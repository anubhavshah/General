function PortalTextboxCreator(){for(var t=[],n=0;n<this.length;n++)t[n]=new Textbox(this[n]);return t}function Textbox(n){this._InputElement=n,this._LabelDiv=null,this._OriginalValue="",this._DefaultBlankValue="&nbsp;&nbsp;&nbsp;",this.set_Value=function(n){this._OriginalValue.length>0?this._OriginalValue!=n?$(this._LabelDiv).addClass("EVOTextBox_Label_ValueChanged"):$(this._LabelDiv).removeClass("EVOTextBox_Label_ValueChanged"):this._OriginalValue=n,this._InputElement.value=n},this.set_DefaultBlankValue=function(n){this._DefaultBlankValue=n},this.get_Value=function(){return this._InputElement.value},this.HasValueChanged=function(){return $(this._LabelDiv).hasClass("EVOTextBox_Label_ValueChanged")},this._DisplayLabel=function(){$(this._InputElement).hide(),this.get_Value()==""?$(this._LabelDiv).empty().html(this._DefaultBlankValue):$(this._LabelDiv).empty().html(this.get_Value()),$(this._LabelDiv).show()},this._DisplayInput=function(){$(this._LabelDiv).hide(),$(this._InputElement).show().focus().trigger("click")},this._Init=function(){var n=this,t;n.set_Value(n._InputElement.value),t=document.createElement("div"),t.setAttribute("id","evotxt_"+n._InputElement.id),$(t).html($(n._InputElement).val()).addClass("EVOTextbox_Label"),n._LabelDiv=t,$(n._InputElement).before(t),$(n._LabelDiv).click(function(){n._DisplayInput()}),$(n._InputElement).blur(function(){n.set_Value(n._InputElement.value),n._DisplayLabel()}),$(n._InputElement).keypress(function(t){(t.which==Sys.UI.Key.enter||t.which==Sys.UI.Key.esc)&&$(n._InputElement).trigger("blur")}),n._DisplayLabel()},this._Init()}function UserHistoryControl(n){this.inheritFrom=PortalControl,this.inheritFrom(n),this.set_PageTitle=function(n){this._PageTitle=n},this.get_PageTitle=function(){return this._PageTitle==undefined&&(this._PageTitle=document.title),this._PageTitle},this.get_UsersSection=function(){return this._UsersSection},this.set_UsersSection=function(n){this._UsersSection=n},this._intervalID,this.DisplayError=function(){var t=this,i;try{i="Failed retrieving user list: "+b.message,$(t.get_element()).empty().html(i),t._intervalID!=undefined&&clearInterval(t._intervalID)}catch(b){}},this.DisplayUsers=function(){var n=this;try{n.get_Service().GetPageHistory(n.get_PageTitle(),function(t){for(var r="",i=0;i<t.length;i++)r+="<span title='"+t[i].StartDate.toString()+"'>"+t[i].User+"</span><br/>";$(n.get_element()).empty().html(t.length),n.get_UsersSection().html(r)},function(t){n.DisplayError(t.get_message())})}catch(t){n.DisplayError(t.description)}},this.AddToHistory=function(){var n=this;n.Alert("Warning","javascript function AddToHistory has not yet been implemented")},this.RemoveFromHistory=function(){try{var n=this;n.get_Service().RemoveFromHistory(n.get_PageTitle(),function(){},function(){})}catch(t){alert(t.description)}},this.Init=function(){var n=this;n.DisplayUsers(),n.set_UsersSection($("<div>").dialog({modal:!0,autoOpen:!1,title:"Users currently visting this page",buttons:{Ok:function(){$(this).dialog("close")}}})),$(n.get_element()).parent().parent(".UserHistory").unbind().click(function(){n.get_UsersSection().dialog("open")})}}function SortFunctions(){this.partition=function(n,t,i,r,u){var o=n[r],f,e;for(n.swap(r,i-1),f=t,e=t;e<i-1;++e)typeof u=="function"?u(n[e])<=u(o)&&(n.swap(f,e),++f):n[e]<=o&&(n.swap(f,e),++f);return n.swap(i-1,f),f},this.qsort=function(n,t,i,r){var f=this,u;i-1>t&&(u=t+Math.floor(Math.random()*(i-t)),u=f.partition(n,t,i,u,r),f.qsort(n,t,u,r),f.qsort(n,u+1,i,r))}}function Exists(n){return n!=undefined&&n!=null}function CloneObject(n){var t=n instanceof Array?[]:{};for(i in n)i!="clone"&&(t[i]=n[i]&&typeof n[i]=="object"?CloneObject(n[i]):n[i]);return t}function getQuerystring(n,t){t==null&&(t=""),n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+n+"=([^&#]*)"),i=r.exec(window.location.href);return i==null?t:i[1]}function ToggleButton(n,t){var i=document.getElementById(n),r=document.getElementById(t);i.disabled?(i.value="",i.style.borderWidth="medium",i.disabled=!1,r.value=!1,i.focus()):(i.value="Ignore",i.style.borderWidth=0,i.disabled=!0,r.value=!0)}function ToggleSelect(n,t){var i=document.getElementById(n),r=document.getElementById(t);i.disabled?(removeOptionAtTop(i),i.selectedIndex=0,i.disabled=!1,r.value=!1):(insertOptionAtTop(i),i.selectedIndex=0,i.disabled=!0,r.value=!0)}function ToggleCheckBox(n,t){var i=document.getElementById(n),r=document.getElementById(t);i.disabled?(i.checked=!0,i.disabled=!1,r.value=!1,i.style.borderWidth="medium",i.focus()):(i.checked=!0,i.disabled=!0,r.value=!0)}function CheckAll(n,t){var f=document.getElementById(n),e=document.getElementById(t),r=f.getElementsByTagName("input"),u=e.checked;for(i=0;i<r.length;i++)r[i].type=="checkbox"&&(r[i].checked=u),changeColor(r[i])}function DisableInputs(n){var r=getParentElement(n,"DIV"),t=r.getElementsByTagName("input");for(i=0;i<t.length;i++)switch(t[i].type){case"checkbox":t[i].disabled=!0;break;case"text":t[i].disabled=!0,t[i].value="Ignore",t[i].style.borderWidth=0;break;case"hidden":t[i].value=!0}for(t=r.getElementsByTagName("textarea"),i=0;i<t.length;i++)t[i].disabled=!0,t[i].value="Ignore",t[i].style.borderWidth=0;for(t=r.getElementsByTagName("select"),i=0;i<t.length;i++)t[i].disabled=!0,insertOptionAtTop(t[i]),t[i].selectedIndex=0}function changeColor(n){var t=getParentElement(n,"TR");t.style.fontWeight=n.checked?"Bold":"Normal"}function changeTextFont(n){n.style.fontWeight=n.style.fontWeight=="Normal"?"Bold":"Normal"}function isFireFox(){return navigator.appName=="Netscape"}function getParentElement(n,t){do n=isFireFox()?n.parentNode:n.parentElement;while(n.tagName!=t);return n}function ToggleVisibility(n,t){var r=document.getElementById(n),e=document.getElementById(t),f=e.getElementsByTagName("input"),u=!1;for(i=0;i<f.length;i++)f[i].type=="checkbox"&&f[i].checked&&(u=!0,i=f.length);NN4?r.style.visibility=u?"show":"hidden":IE4||isFireFox()?r.style.visibility=u?"visible":"hidden":(alert("browser may not be supported!"),r.style.visibility=u?"visible":"hidden")}function insertOptionAtTop(n){var t=document.createElement("option"),i;t.text="Ignore",i=n.options[0];try{n.add(t,i)}catch(r){n.add(t,0)}}function removeOptionAtTop(n){var t=n.options[0];t.text=="Ignore"&&n.remove(0)}function CheckNumericKeyInfo(n,t){return t!=null?t>=48&&t<=57||t==0||n==8||t==13?$RetVal=!0:($RetVal=!1,alert("Please enter a numeric value.")):n>=48&&n<=57||n==13?$RetVal=!0:($RetVal=!1,alert("Please enter a numeric value.")),$RetVal}function bindDropDownList(n,t){for(n.options.length=0,ctr=0;ctr<t.length;ctr++)n.options[ctr]=new Option(t[ctr].Text,t[ctr].Value)}function getDropDownListSelection(n){for(var i=[],t=0;t<n.options.length;t++)n.options[t].selected&&Array.add(i,n.options[t]);return i}function StringListControl(n){this.inheritFrom=PortalControl,this.inheritFrom(n),this.Pre_ItemAddedDelegate,this.Post_ItemAddedDelegate,this.Pre_ItemRemovedDelegate,this.Post_ItemRemovedDelegate,this.Update=function(n){var t=this,u,i,f,e,r;for(t.Lock(),t.Reset(),Exists(n)&&t.set_DataSource(n),u=$("<table></table>"),i=0;i<t.get_DataSource().length;i++)f=t.get_DataSource()[i],r=$("<tr>").append($("<td>").append(f.value)).append($("<td class='ui-state-default ui-corner-all'>").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).append($("<span class='ui-icon ui-icon-minus'></span>").data("itemindex",i).data("item",f).click(function(){Exists(t.Pre_ItemRemovedDelegate)&&typeof t.Pre_ItemRemovedDelegate=="function"?t.Pre_ItemRemovedDelegate($(this).data("item"))&&t.get_DataSource().splice($(this).data("itemindex"),1):t.get_DataSource().splice($(this).data("itemindex"),1),Exists(t.Post_ItemRemovedDelegate)&&typeof t.Post_ItemRemovedDelegate=="function"&&t.Post_ItemRemovedDelegate($(this).data("item")),t.Update()}))),u.append(r);e=$("<input type='text' style='width:100%;'>"),r=$("<tr>").append($("<td>").append(e)).append($("<td class='ui-state-default ui-corner-all'>").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).append($("<span class='ui-icon ui-icon-plus'></span>").click(function(){var n={id:null,value:$(this).parent().parent().find("input").val()};Exists(t.Pre_ItemAddedDelegate)&&typeof t.Pre_ItemAddedDelegate=="function"?t.Pre_ItemAddedDelegate(n)&&(t.get_DataSource()[t.get_DataSource().length]=n):t.get_DataSource()[t.get_DataSource().length]=n,Exists(t.Post_ItemAddedDelegate)&&typeof t.Post_ItemAddedDelegate=="function"&&t.Post_ItemAddedDelegate(n),t.Update()}))),u.append(r),$(t.get_element()).append(u),t.UnLock()},this.Reset=function(){var n=this;$(n.get_element()).empty()},this.Init=function(){var n=this;Exists(n.get_DataSource())||n.set_DataSource([])}}function WYSIWGTextbox(n){this.inheritFrom=Textbox,this._InputElement=n,this._LabelDiv=null,this._OriginalValue="",this._DefaultBlankValue="&nbsp;&nbsp;&nbsp;",this.WYSIWGEditor=null,this.DivEditor=null,this.set_Value=function(n){if(this._OriginalValue.length>0){var t=this._LabelDiv;$(t).effect("highlight",{},3e3)}else this._OriginalValue=n;this._InputElement.value=n},this.set_DefaultBlankValue=function(n){this._DefaultBlankValue=n},this.get_Value=function(){return this._InputElement.value},this.HasValueChanged=function(){return $(this._LabelDiv).hasClass("EVOTextBox_Label_ValueChanged")},this.PreLabelShownDelegate=null,this.PreInputShownDelegate=null,this.PostLabelShownDelegate=null,this.PostInputShownDelegate=null,this._DisplayLabel=function(){Exists(this.PreLabelShownDelegate)&&typeof this.PreLabelShownDelegate=="function"&&this.PreLabelShownDelegate(this),this.DivEditor.hide(),this.get_Value()==""?$(this._LabelDiv).empty().html(this._DefaultBlankValue):$(this._LabelDiv).empty().html(this.get_Value()),$(this._LabelDiv).show(),Exists(this.PostLabelShownDelegate)&&typeof this.PostLabelShownDelegate=="function"&&this.PostLabelShownDelegate(this)},this._DisplayInput=function(){Exists(this.PreInputShownDelegate)&&typeof this.PreInputShownDelegate=="function"&&this.PreInputShownDelegate(this),$(this._LabelDiv).hide(),this.DivEditor.show(),Exists(this.PostInputShownDelegate)&&typeof this.PostInputShownDelegate=="function"&&this.PostInputShownDelegate(this)},this._Init=function(){var n=this,t;n.set_Value(n._InputElement.value),t=document.createElement("div"),t.setAttribute("id","evotxt_"+n._InputElement.id),$(t).html($(n._InputElement).val()).addClass("EVOTextbox_Label"),$(n._InputElement).wrap(n.DivEditor),n.DivEditor=$(n._InputElement).wrap("<div id='wysiwg_container'>").parent(),n.WYSIWGEditor=$(n._InputElement).wysiwyg({controls:{html:{visible:!0},increaseFontSize:{visible:!0},decreaseFontSize:{visible:!0},insertTable:{visible:!0},cut:{visible:!0},copy:{visible:!0},paste:{visible:!0}}}),n._LabelDiv=t,$(n.DivEditor).before(t),$(n._LabelDiv).click(function(){n._DisplayInput()}),n.DivEditor.hover(function(){n.mouse_is_inside=!0},function(){n.mouse_is_inside=!1}),$("body").mouseup(function(){Exists(n.mouse_is_inside)&&!n.mouse_is_inside&&n.DivEditor.is(":visible")&&(n.set_Value(n._InputElement.value),n._DisplayLabel())}),n._DisplayLabel()},this._Init()}var FixedColumns,FixedHeader,ZeroClipboard_TableTools,TableTools,NN4,IE4;this.JSON||(this.JSON={}),function(){function i(n){return n<10?"0"+n:n}function o(n){return f.lastIndex=0,f.test(n)?'"'+n.replace(f,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(i,f){var h,l,c,a,v=n,s,e=f[i];e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(i)),typeof t=="function"&&(e=t.call(f,i,e));switch(typeof e){case"string":return o(e);case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if(n+=r,s=[],Object.prototype.toString.apply(e)==="[object Array]"){for(a=e.length,h=0;h<a;h+=1)s[h]=u(h,e)||"null";return c=s.length===0?"[]":n?"[\n"+n+s.join(",\n"+n)+"\n"+v+"]":"["+s.join(",")+"]",n=v,c}if(t&&typeof t=="object")for(a=t.length,h=0;h<a;h+=1)l=t[h],typeof l=="string"&&(c=u(l,e))&&s.push(o(l)+(n?": ":":")+c);else for(l in e)Object.hasOwnProperty.call(e,l)&&(c=u(l,e))&&s.push(o(l)+(n?": ":":")+c);return c=s.length===0?"{}":n?"{\n"+n+s.join(",\n"+n)+"\n"+v+"}":"{"+s.join(",")+"}",n=v,c}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(r=n="",typeof e=="number")for(o=0;o<e;o+=1)r+=" ";else typeof e=="string"&&(r=e);if((t=f)&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw Error("JSON.stringify");return u("",{"":i})}),typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}(),function(n){function c(){if(window.localStorage)try{i=window.localStorage,u="localStorage"}catch(s){}else if(window.globalStorage)try{i=window.globalStorage[window.location.hostname],u="globalStorage"}catch(c){}else if(r=document.createElement("link"),r.addBehavior){r.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(r),r.load("jStorage");var n="{}";try{n=r.getAttribute("jStorage")}catch(f){}i.jStorage=n,u="userDataBehavior"}else{r=null;return}if(i.jStorage)try{t=h(String(i.jStorage))}catch(o){i.jStorage="{}"}else i.jStorage="{}";e=i.jStorage?String(i.jStorage).length:0}function f(){try{i.jStorage=s(t),r&&(r.setAttribute("jStorage",i.jStorage),r.save("jStorage")),e=i.jStorage?String(i.jStorage).length:0}catch(n){}}function o(n){if(!n||typeof n!="string"&&typeof n!="number")throw new TypeError("Key name must be string or numeric");return!0}if(!n||!(n.toJSON||Object.toJSON||window.JSON))throw new Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");var t={},i={jStorage:"{}"},r=null,e=0,s=n.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),h=n.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(n){return String(n).evalJSON()},u=!1;_XMLService={isXML:function(n){var t=(n?n.ownerDocument||n:0).documentElement;return t?t.nodeName!=="HTML":!1},encode:function(n){if(!this.isXML(n))return!1;try{return(new XMLSerializer).serializeToString(n)}catch(i){try{return n.xml}catch(t){}}return!1},decode:function(n){var i="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(n){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(n),t},t;return i?(t=i.call("DOMParser"in window&&new DOMParser||window,n,"text/xml"),this.isXML(t)?t:!1):!1}},n.jStorage={version:"0.1.4.1",set:function(n,i){return o(n),_XMLService.isXML(i)&&(i={_is_xml:!0,xml:_XMLService.encode(i)}),t[n]=i,f(),i},get:function(n,i){return(o(n),n in t)?typeof t[n]=="object"&&t[n]._is_xml&&t[n]._is_xml?_XMLService.decode(t[n].xml):t[n]:typeof i=="undefined"?null:i},deleteKey:function(n){return(o(n),n in t)?(delete t[n],f(),!0):!1},flush:function(){t={},f();try{window.localStorage.clear()}catch(n){}return!0},storageObj:function(){function n(){}return n.prototype=t,new n},index:function(){var i=[],n;for(n in t)t.hasOwnProperty(n)&&i.push(n);return i},storageSize:function(){return e},currentBackend:function(){return u}},c()}(window.jQuery||window.$),Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(n){for(var r=Date.CultureInfo.monthNames,u=Date.CultureInfo.abbreviatedMonthNames,i=n.toLowerCase(),t=0;t<r.length;t++)if(r[t].toLowerCase()==i||u[t].toLowerCase()==i)return t;return-1},Date.getDayNumberFromName=function(n){for(var r=Date.CultureInfo.dayNames,u=Date.CultureInfo.abbreviatedDayNames,f=Date.CultureInfo.shortestDayNames,i=n.toLowerCase(),t=0;t<r.length;t++)if(r[t].toLowerCase()==i||u[t].toLowerCase()==i)return t;return-1},Date.isLeapYear=function(n){return n%4==0&&n%100!=0||n%400==0},Date.getDaysInMonth=function(n,t){return[31,Date.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.getTimezoneOffset=function(n,t){return t||!1?Date.CultureInfo.abbreviatedTimeZoneDST[n.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[n.toUpperCase()]},Date.getTimezoneAbbreviation=function(n,t){var r=t||!1?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,i;for(i in r)if(r[i]===n)return i;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(n){if(isNaN(this))throw new Error(this);if(n instanceof Date&&!isNaN(n))return this>n?1:this<n?-1:0;throw new TypeError(n);},Date.prototype.equals=function(n){return this.compareTo(n)===0},Date.prototype.between=function(n,t){var i=this.getTime();return i>=n.getTime()&&i<=t.getTime()},Date.prototype.addMilliseconds=function(n){return this.setMilliseconds(this.getMilliseconds()+n),this},Date.prototype.addSeconds=function(n){return this.addMilliseconds(n*1e3)},Date.prototype.addMinutes=function(n){return this.addMilliseconds(n*6e4)},Date.prototype.addHours=function(n){return this.addMilliseconds(n*36e5)},Date.prototype.addDays=function(n){return this.addMilliseconds(n*864e5)},Date.prototype.addWeeks=function(n){return this.addMilliseconds(n*6048e5)},Date.prototype.addMonths=function(n){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+n),this.setDate(Math.min(t,this.getDaysInMonth())),this},Date.prototype.addYears=function(n){return this.addMonths(n*12)},Date.prototype.add=function(n){if(typeof n=="number")return this._orient=n,this;var t=n;return(t.millisecond||t.milliseconds)&&this.addMilliseconds(t.millisecond||t.milliseconds),(t.second||t.seconds)&&this.addSeconds(t.second||t.seconds),(t.minute||t.minutes)&&this.addMinutes(t.minute||t.minutes),(t.hour||t.hours)&&this.addHours(t.hour||t.hours),(t.month||t.months)&&this.addMonths(t.month||t.months),(t.year||t.years)&&this.addYears(t.year||t.years),(t.day||t.days)&&this.addDays(t.day||t.days),this},Date._validate=function(n,t,i,r){if(typeof n!="number")throw new TypeError(n+" is not a Number.");else if(n<t||n>i)throw new RangeError(n+" is not a valid value for "+r+".");return!0},Date.validateMillisecond=function(n){return Date._validate(n,0,999,"milliseconds")},Date.validateSecond=function(n){return Date._validate(n,0,59,"seconds")},Date.validateMinute=function(n){return Date._validate(n,0,59,"minutes")},Date.validateHour=function(n){return Date._validate(n,0,23,"hours")},Date.validateDay=function(n,t,i){return Date._validate(n,1,Date.getDaysInMonth(t,i),"days")},Date.validateMonth=function(n){return Date._validate(n,0,11,"months")},Date.validateYear=function(n){return Date._validate(n,1,9999,"seconds")},Date.prototype.set=function(n){var t=n;return t.millisecond||t.millisecond===0||(t.millisecond=-1),t.second||t.second===0||(t.second=-1),t.minute||t.minute===0||(t.minute=-1),t.hour||t.hour===0||(t.hour=-1),t.day||t.day===0||(t.day=-1),t.month||t.month===0||(t.month=-1),t.year||t.year===0||(t.year=-1),t.millisecond!=-1&&Date.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),t.second!=-1&&Date.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),t.minute!=-1&&Date.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),t.hour!=-1&&Date.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),t.month!==-1&&Date.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),t.year!=-1&&Date.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),t.day!=-1&&Date.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var n=this.getFullYear();return n%4==0&&n%100!=0||n%400==0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(n,t){var i=(n-this.getDay()+7*(t||1))%7;return this.addDays(i===0?i+=7*(t||1):i)},Date.prototype.moveToMonth=function(n,t){var i=(n-this.getMonth()+12*(t||1))%12;return this.addMonths(i===0?i+=12*(t||1):i)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(n){var i=this.getFullYear(),o=this.getMonth(),s=this.getDate(),e=n||Date.CultureInfo.firstDayOfWeek,r=8-new Date(i,0,1).getDay(),f,t,u;return r==8&&(r=1),f=(Date.UTC(i,o,s,0,0,0)-Date.UTC(i,0,1,0,0,0))/864e5+1,t=Math.floor((f-r+7)/7),t===e&&(i--,u=8-new Date(i,0,1).getDay(),t=u==2||u==8?53:52),t},Date.prototype.isDST=function(){return console.log("isDST"),this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(n){var i=this.getTimezoneOffset(),t=Number(n)*-6/10;return this.addMinutes(t-i),this},Date.prototype.setTimezone=function(n){return this.setTimezoneOffset(Date.getTimezoneOffset(n))},Date.prototype.getUTCOffset=function(){var t=this.getTimezoneOffset()*-10/6,n;return t<0?(n=(t-1e4).toString(),n[0]+n.substr(2)):(n=(t+1e4).toString(),"+"+n.substr(1))},Date.prototype.getDayName=function(n){return n?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(n){return n?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(n){var t=this,i=function(n){return n.toString().length==1?"0"+n:n};return n?n.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(n){switch(n){case"hh":return i(t.getHours()<13?t.getHours():t.getHours()-12);case"h":return t.getHours()<13?t.getHours():t.getHours()-12;case"HH":return i(t.getHours());case"H":return t.getHours();case"mm":return i(t.getMinutes());case"m":return t.getMinutes();case"ss":return i(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return t.getFullYear();case"yy":return t.getFullYear().toString().substring(2,4);case"dddd":return t.getDayName();case"ddd":return t.getDayName(!0);case"dd":return i(t.getDate());case"d":return t.getDate().toString();case"MMMM":return t.getMonthName();case"MMM":return t.getMonthName(!0);case"MM":return i(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var n={};return n[this._dateElement]=this,Date.now().add(n)},Number.prototype.ago=function(){var n={};return n[this._dateElement]=this*-1,Date.now().add(n)},function(){for(var i=Date.prototype,l=Number.prototype,f="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),e="january february march april may june july august september october november december".split(/\s/),o="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),t,a=function(n){return function(){return this._is?(this._is=!1,this.getDay()==n):this.moveToDayOfWeek(n,this._orient)}},c,r,s,h,u,n=0;n<f.length;n++)i[f[n]]=i[f[n].substring(0,3)]=a(n);for(c=function(n){return function(){return this._is?(this._is=!1,this.getMonth()===n):this.moveToMonth(n,this._orient)}},r=0;r<e.length;r++)i[e[r]]=i[e[r].substring(0,3)]=c(r);for(s=function(n){return function(){return n.substring(n.length-1)!="s"&&(n+="s"),this["add"+n](this._orient)}},h=function(n){return function(){return this._dateElement=n,this}},u=0;u<o.length;u++)t=o[u].toLowerCase(),i[t]=i[t+"s"]=s(o[u]),l[t]=l[t+"s"]=h(t)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){var i,o,f,u;Date.Parsing={Exception:function(n){this.message="Parse error at '"+n.substring(0,10)+" ...'"}};var t=Date.Parsing,n=t.Operators={rtoken:function(n){return function(i){var r=i.match(n);if(r)return[r[0],i.substring(r[0].length)];throw new t.Exception(i);}},token:function(){return function(t){return n.rtoken(new RegExp("^s*"+t+"s*"))(t)}},stoken:function(t){return n.rtoken(new RegExp("^"+t))},until:function(n){return function(t){for(var r=[],i=null;t.length;){try{i=n.call(this,t)}catch(u){r.push(i[0]),t=i[1];continue}break}return[r,t]}},many:function(n){return function(t){for(var r=[],i=null;t.length;){try{i=n.call(this,t)}catch(u){return[r,t]}r.push(i[0]),t=i[1]}return[r,t]}},optional:function(n){return function(t){var i=null;try{i=n.call(this,t)}catch(r){return[null,t]}return[i[0],i[1]]}},not:function(n){return function(i){try{n.call(this,i)}catch(r){return[null,i]}throw new t.Exception(i);}},ignore:function(n){return n?function(t){var i=null;return i=n.call(this,t),[null,i[1]]}:null},product:function(){for(var r=arguments[0],u=Array.prototype.slice.call(arguments,1),i=[],t=0;t<r.length;t++)i.push(n.each(r[t],u));return i},cache:function(n){var r={},i=null;return function(u){try{i=r[u]=r[u]||n.call(this,u)}catch(f){i=r[u]=f}if(i instanceof t.Exception)throw i;else return i}},any:function(){var n=arguments;return function(i){for(var u=null,r=0;r<n.length;r++)if(n[r]!=null){try{u=n[r].call(this,i)}catch(f){u=null}if(u)return u}throw new t.Exception(i);}},each:function(){var n=arguments;return function(i){for(var f=[],u=null,r=0;r<n.length;r++)if(n[r]!=null){try{u=n[r].call(this,i)}catch(e){throw new t.Exception(i);}f.push(u[0]),i=u[1]}return[f,i]}},all:function(){var t=arguments,n=n;return n.each(n.optional(t))},sequence:function(i,r,u){return(r=r||n.rtoken(/^\s*/),u=u||null,i.length==1)?i[0]:function(n){for(var f=null,e=null,s=[],o=0;o<i.length;o++){try{f=i[o].call(this,n)}catch(l){break}s.push(f[0]);try{e=r.call(this,f[1])}catch(c){e=null;break}n=e[1]}if(!f)throw new t.Exception(n);if(e)throw new t.Exception(e[1]);if(u)try{f=u.call(this,f[1])}catch(h){throw new t.Exception(f[1]);}return[s,f?f[1]:n]}},between:function(t,i,u){u=u||t;var f=n.each(n.ignore(t),i,n.ignore(u));return function(n){var t=f.call(this,n);return[[t[0][0],r[0][2]],t[1]]}},list:function(t,i,r){return i=i||n.rtoken(/^\s*/),r=r||null,t instanceof Array?n.each(n.product(t.slice(0,-1),n.ignore(i)),t.slice(-1),n.ignore(r)):n.each(n.many(n.each(t,n.ignore(i))),px,n.ignore(r))},set:function(i,r,u){return r=r||n.rtoken(/^\s*/),u=u||null,function(f){for(var s=null,v=null,c=null,h=null,e=[[],f],o=!1,y,l,a=0;a<i.length;a++){c=null,v=null,s=null,o=i.length==1;try{s=i[a].call(this,f)}catch(b){continue}if(h=[[s[0]],s[1]],s[1].length>0&&!o)try{c=r.call(this,s[1])}catch(w){o=!0}else o=!0;if(o||c[1].length!==0||(o=!0),!o){for(y=[],l=0;l<i.length;l++)a!=l&&y.push(i[l]);v=n.set(y,r).call(this,c[1]),v[0].length>0&&(h[0]=h[0].concat(v[0]),h[1]=v[1])}if(h[1].length<e[1].length&&(e=h),e[1].length===0)break}if(e[0].length===0)return e;if(u){try{c=u.call(this,e[1])}catch(p){throw new t.Exception(e[1]);}e[1]=c[1]}return e}},forward:function(n,t){return function(i){return n[t].call(this,i)}},replace:function(n,t){return function(i){var r=n.call(this,i);return[t,r[1]]}},process:function(n,t){return function(i){var r=n.call(this,i);return[t.call(this,r[0]),r[1]]}},min:function(n,i){return function(r){var u=i.call(this,r);if(u[0].length<n)throw new t.Exception(r);return u}}},s=function(n){return function(){var t=null,u=[],i,r;if(arguments.length>1?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]),t)for(i=0,r=t.shift();i<r.length;i++)return t.unshift(r[i]),u.push(n.apply(null,t)),t.shift(),u;else return n.apply(null,arguments)}},e="optional not ignore cache".split(/\s/);for(i=0;i<e.length;i++)n[e[i]]=s(n[e[i]]);for(o=function(n){return function(){return arguments[0]instanceof Array?n.apply(null,arguments[0]):n.apply(null,arguments)}},f="each any all".split(/\s/),u=0;u<f.length;u++)n[f[u]]=o(n[f[u]])}(),function(){var o=function(n){for(var i=[],t=0;t<n.length;t++)n[t]instanceof Array?i=i.concat(o(n[t])):n[t]&&i.push(n[t]);return i},f,u,e;Date.Grammar={},Date.Translator={hour:function(n){return function(){this.hour=Number(n)}},minute:function(n){return function(){this.minute=Number(n)}},second:function(n){return function(){this.second=Number(n)}},meridian:function(n){return function(){this.meridian=n.slice(0,1).toLowerCase()}},timezone:function(n){return function(){var t=n.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=n.toLowerCase()}},day:function(n){var t=n[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(n){return function(){this.month=n.length==3?Date.getMonthNumberFromName(n):Number(n)-1}},year:function(n){return function(){var t=Number(n);this.year=n.length>2?t:t+(t+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(n){return function(){switch(n){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(n){var r,t,i;for(n=n instanceof Array?n:[n],r=new Date,this.year=r.getFullYear(),this.month=r.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0,t=0;t<n.length;t++)n[t]&&n[t].call(this);if(this.hour=this.meridian=="p"&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");return i=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second),this.timezone?i.set({timezone:this.timezone}):this.timezoneOffset&&i.set({timezoneOffset:this.timezoneOffset}),i},finish:function(n){var f,i,t,r;if(n=n instanceof Array?o(n):[n],n.length===0)return null;for(f=0;f<n.length;f++)typeof n[f]=="function"&&n[f].call(this);if(this.now)return new Date;var u=Date.today(),s=null,e=!!(this.days!=null||this.orient||this.operator);return e?(r=this.orient=="past"||this.operator=="subtract"?-1:1,this.weekday&&(this.unit="day",i=Date.getDayNumberFromName(this.weekday)-u.getDay(),t=7,this.days=i?(i+r*t)%t:r*t),this.month&&(this.unit="month",i=this.month-u.getMonth(),t=12,this.months=i?(i+r*t)%t:r*t,this.month=null),this.unit||(this.unit="day"),(this[this.unit+"s"]==null||this.operator!=null)&&(this.value||(this.value=1),this.unit=="week"&&(this.unit="day",this.value=this.value*7),this[this.unit+"s"]=this.value*r),u.add(this)):(this.meridian&&this.hour&&(this.hour=this.hour<13&&this.meridian=="p"?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=u.addDays(Date.getDayNumberFromName(this.weekday)-u.getDay()).getDate()),this.month&&!this.day&&(this.day=1),u.set(this))}};var t=Date.Parsing.Operators,n=Date.Grammar,i=Date.Translator,r;n.datePartDelimiter=t.rtoken(/^([\s\-\.\,\/\x27]+)/),n.timePartDelimiter=t.stoken(":"),n.whiteSpace=t.rtoken(/^\s*/),n.generalDelimiter=t.rtoken(/^(([\s\,]|at|on)+)/),f={},n.ctoken=function(n){var u=f[n],i;if(!u){var o=Date.CultureInfo.regexPatterns,r=n.split(/\s+/),e=[];for(i=0;i<r.length;i++)e.push(t.replace(t.rtoken(o[r[i]]),r[i]));u=f[n]=t.any.apply(null,e)}return u},n.ctoken2=function(n){return t.rtoken(Date.CultureInfo.regexPatterns[n])},n.h=t.cache(t.process(t.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),i.hour)),n.hh=t.cache(t.process(t.rtoken(/^(0[0-9]|1[0-2])/),i.hour)),n.H=t.cache(t.process(t.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),i.hour)),n.HH=t.cache(t.process(t.rtoken(/^([0-1][0-9]|2[0-3])/),i.hour)),n.m=t.cache(t.process(t.rtoken(/^([0-5][0-9]|[0-9])/),i.minute)),n.mm=t.cache(t.process(t.rtoken(/^[0-5][0-9]/),i.minute)),n.s=t.cache(t.process(t.rtoken(/^([0-5][0-9]|[0-9])/),i.second)),n.ss=t.cache(t.process(t.rtoken(/^[0-5][0-9]/),i.second)),n.hms=t.cache(t.sequence([n.H,n.mm,n.ss],n.timePartDelimiter)),n.t=t.cache(t.process(n.ctoken2("shortMeridian"),i.meridian)),n.tt=t.cache(t.process(n.ctoken2("longMeridian"),i.meridian)),n.z=t.cache(t.process(t.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),i.timezone)),n.zz=t.cache(t.process(t.rtoken(/^(\+|\-)\s*\d\d\d\d/),i.timezone)),n.zzz=t.cache(t.process(n.ctoken2("timezone"),i.timezone)),n.timeSuffix=t.each(t.ignore(n.whiteSpace),t.set([n.tt,n.zzz])),n.time=t.each(t.optional(t.ignore(t.stoken("T"))),n.hms,n.timeSuffix),n.d=t.cache(t.process(t.each(t.rtoken(/^([0-2]\d|3[0-1]|\d)/),t.optional(n.ctoken2("ordinalSuffix"))),i.day)),n.dd=t.cache(t.process(t.each(t.rtoken(/^([0-2]\d|3[0-1])/),t.optional(n.ctoken2("ordinalSuffix"))),i.day)),n.ddd=n.dddd=t.cache(t.process(n.ctoken("sun mon tue wed thu fri sat"),function(n){return function(){this.weekday=n}})),n.M=t.cache(t.process(t.rtoken(/^(1[0-2]|0\d|\d)/),i.month)),n.MM=t.cache(t.process(t.rtoken(/^(1[0-2]|0\d)/),i.month)),n.MMM=n.MMMM=t.cache(t.process(n.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),i.month)),n.y=t.cache(t.process(t.rtoken(/^(\d\d?)/),i.year)),n.yy=t.cache(t.process(t.rtoken(/^(\d\d)/),i.year)),n.yyy=t.cache(t.process(t.rtoken(/^(\d\d?\d?\d?)/),i.year)),n.yyyy=t.cache(t.process(t.rtoken(/^(\d\d\d\d)/),i.year)),r=function(){return t.each(t.any.apply(null,arguments),t.not(n.ctoken2("timeContext")))},n.day=r(n.d,n.dd),n.month=r(n.M,n.MMM),n.year=r(n.yyyy,n.yy),n.orientation=t.process(n.ctoken("past future"),function(n){return function(){this.orient=n}}),n.operator=t.process(n.ctoken("add subtract"),function(n){return function(){this.operator=n}}),n.rday=t.process(n.ctoken("yesterday tomorrow today now"),i.rday),n.unit=t.process(n.ctoken("minute hour day week month year"),function(n){return function(){this.unit=n}}),n.value=t.process(t.rtoken(/^\d\d?(st|nd|rd|th)?/),function(n){return function(){this.value=n.replace(/\D/g,"")}}),n.expression=t.set([n.rday,n.operator,n.value,n.unit,n.orientation,n.ddd,n.MMM]),r=function(){return t.set(arguments,n.datePartDelimiter)},n.mdy=r(n.ddd,n.month,n.day,n.year),n.ymd=r(n.ddd,n.year,n.month,n.day),n.dmy=r(n.ddd,n.day,n.month,n.year),n.date=function(t){return(n[Date.CultureInfo.dateElementOrder]||n.mdy).call(this,t)},n.format=t.process(t.many(t.any(t.process(t.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(n[t])return n[t];throw Date.Parsing.Exception(t);}),t.process(t.rtoken(/^[^dMyhHmstz]+/),function(n){return t.ignore(t.stoken(n))}))),function(n){return t.process(t.each.apply(null,n),i.finishExact)}),u={},e=function(t){return u[t]=u[t]||n.format(t)[0]},n.formats=function(n){var r,i;if(n instanceof Array){for(r=[],i=0;i<n.length;i++)r.push(e(n[i]));return t.any.apply(null,r)}return e(n)},n._formats=n.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),n._start=t.process(t.set([n.date,n.time,n.expression],n.generalDelimiter,n.whiteSpace),i.finish),n.start=function(t){try{var i=n._formats.call({},t);if(i[1].length===0)return i}catch(r){}return n._start.call({},t)}}(),Date._parse=Date.parse,Date.parse=function(n){var t=null;if(!n)return null;try{t=Date.Grammar.start.call({},n)}catch(i){return null}return t[1].length===0?t[0]:null},Date.getParseFunction=function(n){var t=Date.Grammar.formats(n);return function(n){var i=null;try{i=t.call({},n)}catch(r){return null}return i[1].length===0?i[0]:null}},Date.parseExact=function(n,t){return Date.getParseFunction(t)(n)},function(n){function t(t,i){t=n("#"+t).attr("alt");var r="dp"+t.charAt(5);return t!==""&&(i.aSign=t.charAt(0)==="n"?"-":"",t.charAt(1)==="0"?i.mNum=15:t.charAt(1)>"0"&&t.charAt(1)<="9"?i.mNum=t.charAt(1)*1:i.nNum=9,i.aSep=t.charAt(2)==="a"?"'":t.charAt(2)==="p"?".":t.charAt(2)==="s"?" ":t.charAt(2)==="x"?"":",",i.dGroup=t.charAt(3)==="2"?/(\d)((\d)(\d{2}?)+)$/:t.charAt(3)==="4"?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/,i.aDec=t.charAt(4)=="c"?",":".",i.mDec=t.charAt(5)<="9"?t.charAt(5)*1:n("#"+r).val()*1,i.rMethod=t.charAt(6)!==""?t.charAt(6):"S"),i}function f(n,t){var i="",r=0;for(j=0;j<t;j++)i=n.charAt(j),i>="0"&&i<="9"&&r++;return r}function i(n,t){if(t.aSep!=""){n=n.split(t.aSep).join(""),n=n.split(t.aDec);for(var i=n[0];t.dGroup.test(i);)i=i.replace(t.dGroup,"$1"+t.aSep+"$2");n=t.mDec!==0&&n.length>1?i+t.aDec+n[1]:i}return n}function u(n,t,i){var o="",r=0,e="",f,u,s;if(n+="",n.charAt(0)=="-"&&(e=n*1==0?"":"-",n=n.replace("-","")),n*1>0)for(;n.substr(0,1)=="0"&&n.length>1;)n=n.substr(1,9999);if(f=n.lastIndexOf("."),f===0&&(n="0"+n,f=1),f==-1||f==n.length-1){if(t>0){for(o=f==-1?n+".":n,r=0;r<t;r++)o+="0";return e+o}return e+n}if(u=n.length-1-f,u==t)return e+n;if(u<t){for(o=n,r=u;r<t;r++)o+="0";return e+o}for(f=f+t,u=n.charAt(f+1)*1,s=[],r=0;r<=f;r++)s[r]=n.charAt(r);if(n=n.charAt(f)=="."?n.charAt(f-1)%2:n.charAt(f)%2,u>4&&i==="S"||u>4&&i==="A"&&e===""||u>5&&i==="A"&&e=="-"||u>5&&i==="s"||u>5&&i==="a"&&e===""||u>4&&i==="a"&&e=="-"||u>5&&i==="B"||u==5&&i==="B"&&n==1||u>0&&i==="C"&&e===""||u>0&&i==="F"&&e=="-"||u>0&&i==="U")for(r=s.length-1;r>=0;r--)if(s[r]!="."&&(s[r]++,s[r]<10))break;for(r=0;r<=f;r++)o+=s[r]=="."||s[r]<10||r===0?s[r]:"0";return t===0&&(o=o.replace(".","")),e+o}function r(r,f,e){var h,o,c,s;if(r=r.val(),r.length>25)return n("#"+f).val(""),!0;for(n.extend(e,t(f,e)),h="",e.aSign=="-"&&(h="\\-"),o=r.replace(new RegExp("[^"+h+e.aNum+e.aDec+"]","gi"),""),(o.lastIndexOf("-")>0||o.indexOf(e.aDec)!=o.lastIndexOf(e.aDec))&&(o=""),r="",h=0,c="",s=0,o=o.split(""),s=0;s<o.length;s++)if(s===0&&o[s]=="-")h=1,c="-";else{if(o[s]==e.aDec&&o.length-1==s)break;r.length===0&&o[s]=="0"&&(o[s+1]>=0||o[s+1]<=9)||(r+=o[s])}r=c+r,r.indexOf(e.aDec)==-1&&r.length>e.mNum+h&&(r=""),r.indexOf(e.aDec)>e.mNum+h&&(r=""),r.indexOf(e.aDec)!=-1&&e.aDec!="."&&(r=r.replace(e.aDec,".")),r=u(r,e.mDec,e.rMethod),e.aDec!="."&&(r=r.replace(".",e.aDec)),r!==""&&e.aSep!==""&&(r=i(r,e)),n("#"+f).val(r)}n.fn.autoNumeric=function(){return this.each(function(){var u=n.extend(n.fn.autoNumeric.defaults),a=n(this),c=this.id,e="",h=0,o=0,s=0,l=0;n(this).focus(function(){n.extend(u,t(c,u))}).keydown(function(n){n||(n=window.event),n.keyCode?e=n.keyCode:n.which&&(e=n.which),document.selection?(this.focus(),n=document.selection.createRange(),h=document.selection.createRange().text.length,n.moveStart("character",-this.value.length),o=(n.text.length-h)*1):(this.selectionStart||this.selectionStart=="0")&&(h=this.selectionEnd*1-this.selectionStart*1,o=this.selectionStart*1),s=this.value.length}).keypress(function(i){var r,y;n.extend(u,t(c,u));var p=u.aNum+u.aSign+u.aDec,a=0,v=0;if((a=s-(s-this.value.lastIndexOf(u.aDec)),a==-1&&(a=s),v=s-this.value.lastIndexOf(u.aDec)-1,this.value.lastIndexOf(u.aDec)==-1&&(v=0),l=f(this.value,a),i||(i=window.event),r="",i.keyCode?r=i.keyCode:i.which&&(r=i.which),y=String.fromCharCode(r),i.ctrlKey&&(e==67||e==86||e==88))||e==8||e==9||e==35||e==36||e==37||e==39||e==46)return!0;if(p.indexOf(y)==-1&&i.preventDefault(),y==u.aDec&&(this.value.indexOf(u.aDec)!=-1||u.mDec<=0||o<this.value.length-u.mDec||o===0&&this.value.charAt(0)=="-"||this.value.lastIndexOf(u.aSep)>=o&&u.aSep!=="")&&i.preventDefault(),r==45&&(o>0||this.value.indexOf("-")!=-1||u.aSign==="")&&i.preventDefault(),r>=48&&r<=57){if(h>0)return!0;this.value.indexOf("-")!=-1&&o===0&&i.preventDefault(),l>=u.mNum&&o<=a&&i.preventDefault(),this.value.indexOf(u.aDec)!=-1&&o>=this.value.length-v&&v>=u.mDec&&i.preventDefault()}}).keyup(function(t){if(u.aSep===""||t.keyCode==9||t.keyCode==20||t.keyCode==35||t.keyCode==36||t.keyCode==37||t.keyCode==39||e==9||e==13||e==20||e==35||e==36||e==37||e==39)return!0;n("#"+this.id).val(i(this.value,u));var r=this.value.length;t=r-(r-this.value.lastIndexOf(u.aDec)),t==-1&&(t=r),l=f(this.value,t),l>u.mNum&&n("#"+this.id).val(""),t=0,s<r&&(t=o+(r-s)),s>r&&(t=h>0?r-(s-(o+h)):s-2==r?e==8?o-2:o-1:e==8?o-1:o),s==r&&(t=this.value.charAt(o-1)==u.aSep&&e==8?o-1:this.value.charAt(o)==u.aSep&&e==46?o+1:o),r=this,r.focus(),document.selection?(r=r.createTextRange(),r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",0),r.select()):r.selectionStart&&(r.selectionStart=t,r.selectionEnd=t)}).blur(function(){n("#"+c).val()!=""&&r(a,c,u)}),n(this).bind("paste",function(){setTimeout(function(){r(a,c,u)},0)})})},n.fn.autoNumeric.defaults={aNum:"0123456789",aSign:"",aSep:",",aDec:".",mNum:9,mDec:2,dGroup:/(\d)((\d{3}?)+)$/,rMethod:"S"},n.fn.autoNumeric.Strip=function(i){var r=n("#"+i).val(),u=n.extend(n.fn.autoNumeric.defaults);if(n.extend(u,t(i,u)),r=r.replace(new RegExp("[^\\-"+u.aNum+u.aDec+"]","gi"),""),i="",r.charAt(0)=="-"&&(i=r*1==0?"":"-",r=r.replace("-","")),r=r.replace(u.aDec,"."),r*1>0)for(;r.substr(0,1)=="0"&&r.length>1;)r=r.substr(1,9999);return r=r.lastIndexOf(".")===0?"0"+r:r,r=r*1==0?"0":r,i+r},n.fn.autoNumeric.Format=function(r,f){var e=n.extend(n.fn.autoNumeric.defaults);return n.extend(e,t(r,e)),f=u(f,e.mDec,e.rMethod),r=0,f.indexOf("-")!=-1&&e.aSign===""?f="":f.indexOf("-")!=-1&&e.aSign=="-"&&(r=1),f.indexOf(".")==-1&&f.length>e.mNum+r?f="":f.indexOf(".")>e.mNum+r&&(f=""),e.aDec!="."&&(f=f.replace(".",e.aDec)),i(f,e)}}(jQuery),function(n){ColVis=function(n,t){return(!this.CLASS||"ColVis"!=this.CLASS)&&alert("Warning: ColVis must be initialised with the keyword 'new'"),"undefined"==typeof t&&(t={}),this.s={dt:null,oInit:t,fnStateChange:null,activate:"click",sAlign:"left",buttonText:"Show / hide columns",hidden:!0,aiExclude:[],abOriginal:[],bShowAll:!1,sShowAll:"Show All",bRestore:!1,sRestore:"Restore original",iOverlayFade:500,fnLabel:null,sSize:"auto",bCssPosition:!1},this.dom={wrapper:null,button:null,collection:null,background:null,catcher:null,buttons:[],restore:null},ColVis.aInstances.push(this),this.s.dt=n,this._fnConstruct(),this},ColVis.prototype={fnRebuild:function(){for(var n=this.dom.buttons.length-1;0<=n;n--)null!==this.dom.buttons[n]&&this.dom.collection.removeChild(this.dom.buttons[n]);this.dom.buttons.splice(0,this.dom.buttons.length),this.dom.restore&&this.dom.restore.parentNode(this.dom.restore),this._fnAddButtons(),this._fnDrawCallback()},_fnConstruct:function(){this._fnApplyCustomisation();var i=this,t,r;for(this.dom.wrapper=document.createElement("div"),this.dom.wrapper.className="ColVis TableTools",this.dom.button=this._fnDomBaseButton(this.s.buttonText),this.dom.button.className+=" ColVis_MasterButton",this.dom.wrapper.appendChild(this.dom.button),this.dom.catcher=this._fnDomCatcher(),this.dom.collection=this._fnDomCollection(),this.dom.background=this._fnDomBackground(),this._fnAddButtons(),t=0,r=this.s.dt.aoColumns.length;t<r;t++)this.s.abOriginal.push(this.s.dt.aoColumns[t].bVisible);this.s.dt.aoDrawCallback.push({fn:function(){i._fnDrawCallback.call(i)},sName:"ColVis"}),n(this.s.dt.oInstance).bind("column-reorder",function(n,u,f){for(t=0,r=i.s.aiExclude.length;t<r;t++)i.s.aiExclude[t]=f.aiInvertMapping[i.s.aiExclude[t]];n=i.s.abOriginal.splice(f.iFrom,1)[0],i.s.abOriginal.splice(f.iTo,0,n),i.fnRebuild()})},_fnApplyCustomisation:function(){var n=this.s.oInit;"undefined"!=typeof n.activate&&(this.s.activate=n.activate),"undefined"!=typeof n.buttonText&&(this.s.buttonText=n.buttonText),"undefined"!=typeof n.aiExclude&&(this.s.aiExclude=n.aiExclude),"undefined"!=typeof n.bRestore&&(this.s.bRestore=n.bRestore),"undefined"!=typeof n.sRestore&&(this.s.sRestore=n.sRestore),"undefined"!=typeof n.bShowAll&&(this.s.bShowAll=n.bShowAll),"undefined"!=typeof n.sShowAll&&(this.s.sShowAll=n.sShowAll),"undefined"!=typeof n.sAlign&&(this.s.sAlign=n.sAlign),"undefined"!=typeof n.fnStateChange&&(this.s.fnStateChange=n.fnStateChange),"undefined"!=typeof n.iOverlayFade&&(this.s.iOverlayFade=n.iOverlayFade),"undefined"!=typeof n.fnLabel&&(this.s.fnLabel=n.fnLabel),"undefined"!=typeof n.sSize&&(this.s.sSize=n.sSize),"undefined"!=typeof n.bCssPosition&&(this.s.bCssPosition=n.bCssPosition)},_fnDrawCallback:function(){for(var i=this.s.dt.aoColumns,t=0,r=i.length;t<r;t++)null!==this.dom.buttons[t]&&(i[t].bVisible?n("input",this.dom.buttons[t]).attr("checked","checked"):n("input",this.dom.buttons[t]).removeAttr("checked"))},_fnAddButtons:function(){for(var n,r=","+this.s.aiExclude.join(",")+",",t=0,i=this.s.dt.aoColumns.length;t<i;t++)-1==r.indexOf(","+t+",")?(n=this._fnDomColumnButton(t),this.dom.buttons.push(n),this.dom.collection.appendChild(n)):this.dom.buttons.push(null);this.s.bRestore&&(n=this._fnDomRestoreButton(),n.className+=" ColVis_Restore",this.dom.buttons.push(n),this.dom.collection.appendChild(n)),this.s.bShowAll&&(n=this._fnDomShowAllButton(),n.className+=" ColVis_ShowAll",this.dom.buttons.push(n),this.dom.collection.appendChild(n))},_fnDomRestoreButton:function(){var t=this,i=document.createElement("button"),r=document.createElement("span");return i.className=this.s.dt.bJUI?"ColVis_Button TableTools_Button ui-button ui-state-default":"ColVis_Button TableTools_Button",i.appendChild(r),n(r).html('<span class="ColVis_title">'+this.s.sRestore+"</span>"),n(i).click(function(){for(var n=0,i=t.s.abOriginal.length;n<i;n++)t.s.dt.oInstance.fnSetColumnVis(n,t.s.abOriginal[n],!1);t._fnAdjustOpenRows(),t.s.dt.oInstance.fnAdjustColumnSizing(!1),t.s.dt.oInstance.fnDraw(!1)}),i},_fnDomShowAllButton:function(){var t=this,i=document.createElement("button"),r=document.createElement("span");return i.className=this.s.dt.bJUI?"ColVis_Button TableTools_Button ui-button ui-state-default":"ColVis_Button TableTools_Button",i.appendChild(r),n(r).html('<span class="ColVis_title">'+this.s.sShowAll+"</span>"),n(i).click(function(){for(var n=0,i=t.s.abOriginal.length;n<i;n++)-1===t.s.aiExclude.indexOf(n)&&t.s.dt.oInstance.fnSetColumnVis(n,!0,!1);t._fnAdjustOpenRows(),t.s.dt.oInstance.fnAdjustColumnSizing(!1),t.s.dt.oInstance.fnDraw(!1)}),i},_fnDomColumnButton:function(t){var i=this,r=this.s.dt.aoColumns[t],f=document.createElement("button"),e=document.createElement("span"),u=this.s.dt;return f.className=u.bJUI?"ColVis_Button TableTools_Button ui-button ui-state-default":"ColVis_Button TableTools_Button",f.appendChild(e),r=null===this.s.fnLabel?r.sTitle:this.s.fnLabel(t,r.sTitle,r.nTh),n(e).html('<span class="ColVis_radio"><input type="checkbox"/></span><span class="ColVis_title">'+r+"</span>"),n(f).click(function(r){var f=!n("input",this).is(":checked");"input"==r.target.nodeName.toLowerCase()&&(f=n("input",this).is(":checked")),r=n.fn.dataTableExt.iApiIndex,n.fn.dataTableExt.iApiIndex=i._fnDataTablesApiIndex.call(i),u.oFeatures.bServerSide&&(""!==u.oScroll.sX||""!==u.oScroll.sY)?(i.s.dt.oInstance.fnSetColumnVis(t,f,!1),i.s.dt.oInstance.fnAdjustColumnSizing(!1),i.s.dt.oInstance.oApi._fnScrollDraw(i.s.dt),i._fnDrawCallback()):i.s.dt.oInstance.fnSetColumnVis(t,f),n.fn.dataTableExt.iApiIndex=r,null!==i.s.fnStateChange&&i.s.fnStateChange.call(i,t,f)}),f},_fnDataTablesApiIndex:function(){for(var n=0,t=this.s.dt.oInstance.length;n<t;n++)if(this.s.dt.oInstance[n]==this.s.dt.nTable)return n;return 0},_fnDomBaseButton:function(t){var f=this,i=document.createElement("button"),r=document.createElement("span"),u="mouseover"==this.s.activate?"mouseover":"click";return i.className=this.s.dt.bJUI?"ColVis_Button TableTools_Button ui-button ui-state-default":"ColVis_Button TableTools_Button",i.appendChild(r),r.innerHTML=t,n(i).bind(u,function(n){f._fnCollectionShow(),n.preventDefault()}),i},_fnDomCollection:function(){var t=document.createElement("div");return t.style.display="none",t.className=this.s.dt.bJUI?"ColVis_collection TableTools_collection ui-buttonset ui-buttonset-multi":"ColVis_collection TableTools_collection",this.s.bCssPosition||(t.style.position="absolute"),n(t).css("opacity",0),t},_fnDomCatcher:function(){var i=this,t=document.createElement("div");return t.className="ColVis_catcher TableTools_catcher",n(t).click(function(){i._fnCollectionHide.call(i,null,null)}),t},_fnDomBackground:function(){var i=this,t=document.createElement("div");return t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.className="ColVis_collectionBackground TableTools_collectionBackground",n(t).css("opacity",0),n(t).click(function(){i._fnCollectionHide.call(i,null,null)}),"mouseover"==this.s.activate&&n(t).mouseover(function(){i.s.overcollection=!1,i._fnCollectionHide.call(i,null,null)}),t},_fnCollectionShow:function(){var s=this,t,i;t=n(this.dom.button).offset();var r=this.dom.collection,o=this.dom.background,u=parseInt(t.left,10),e=parseInt(t.top+n(this.dom.button).outerHeight(),10);this.s.bCssPosition||(r.style.top=e+"px",r.style.left=u+"px"),r.style.display="block",n(r).css("opacity",0),i=n(window).height();var f=n(document).height(),h=n(window).width(),e=n(document).width();if(o.style.height=(i>f?i:f)+"px",o.style.width=(h<e?h:e)+"px",i=this.dom.catcher.style,i.height=n(this.dom.button).outerHeight()+"px",i.width=n(this.dom.button).outerWidth()+"px",i.top=t.top+"px",i.left=u+"px",document.body.appendChild(o),document.body.appendChild(r),document.body.appendChild(this.dom.catcher),"auto"==this.s.sSize){for(f=[],this.dom.collection.style.width="auto",t=0,i=this.dom.buttons.length;t<i;t++)null!==this.dom.buttons[t]&&(this.dom.buttons[t].style.width="auto",f.push(n(this.dom.buttons[t]).outerWidth()));for(iMax=Math.max.apply(window,f),t=0,i=this.dom.buttons.length;t<i;t++)null!==this.dom.buttons[t]&&(this.dom.buttons[t].style.width=iMax+"px");this.dom.collection.style.width=iMax+"px"}this.s.bCssPosition||(r.style.left="left"==this.s.sAlign?u+"px":u-n(r).outerWidth()+n(this.dom.button).outerWidth()+"px",t=n(r).outerWidth(),n(r).outerHeight(),u+t>e&&(r.style.left=e-t+"px")),setTimeout(function(){n(r).animate({opacity:1},s.s.iOverlayFade),n(o).animate({opacity:.1},s.s.iOverlayFade,"linear",function(){jQuery.browser.msie&&jQuery.browser.version=="6.0"&&s._fnDrawCallback()})},10),this.s.hidden=!1},_fnCollectionHide:function(){var t=this;!this.s.hidden&&null!==this.dom.collection&&(this.s.hidden=!0,n(this.dom.collection).animate({opacity:0},t.s.iOverlayFade,function(){this.style.display="none"}),n(this.dom.background).animate({opacity:0},t.s.iOverlayFade,function(){document.body.removeChild(t.dom.background),document.body.removeChild(t.dom.catcher)}))},_fnAdjustOpenRows:function(){for(var t=this.s.dt.aoOpenRows,r=this.s.dt.oApi._fnVisbleColumns(this.s.dt),n=0,i=t.length;n<i;n++)t[n].nTr.getElementsByTagName("td")[0].colSpan=r}},ColVis.fnRebuild=function(n){var r=null,t,i;for("undefined"!=typeof n&&(r=n.fnSettings().nTable),t=0,i=ColVis.aInstances.length;t<i;t++)("undefined"==typeof n||r==ColVis.aInstances[t].s.dt.nTable)&&ColVis.aInstances[t].fnRebuild()},ColVis.aInstances=[],ColVis.prototype.CLASS="ColVis",ColVis.VERSION="1.0.8",ColVis.prototype.VERSION=ColVis.VERSION,"function"==typeof n.fn.dataTable&&"function"==typeof n.fn.dataTableExt.fnVersionCheck&&n.fn.dataTableExt.fnVersionCheck("1.7.0")?n.fn.dataTableExt.aoFeatures.push({fnInit:function(n){return new ColVis(n,"undefined"==typeof n.oInit.oColVis?{}:n.oInit.oColVis).dom.wrapper},cFeature:"C",sFeature:"ColVis"}):alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download")}(jQuery),function(n,t,i){function f(n){for(var i=[],t=0,r=n.length;t<r;t++)i[n[t]]=t;return i}function r(n,t,i){t=n.splice(t,1)[0],n.splice(i,0,t)}function u(n,t,i){for(var u=[],r=0,f=n.childNodes.length;r<f;r++)1==n.childNodes[r].nodeType&&u.push(n.childNodes[r]);t=u[t],null!==i?n.insertBefore(t,u[i]):n.appendChild(t)}n.fn.dataTableExt.oApi.fnColReorder=function(t,i,e){var o,s,c,v,a=t.aoColumns.length,h,l;if(i!=e)if(0>i||i>=a)this.oApi._fnLog(t,1,"ColReorder 'from' index is out of bounds: "+i);else if(0>e||e>=a)this.oApi._fnLog(t,1,"ColReorder 'to' index is out of bounds: "+e);else{for(l=[],o=0,s=a;o<s;o++)l[o]=o;for(r(l,i,e),l=f(l),o=0,s=t.aaSorting.length;o<s;o++)t.aaSorting[o][0]=l[t.aaSorting[o][0]];if(null!==t.aaSortingFixed)for(o=0,s=t.aaSortingFixed.length;o<s;o++)t.aaSortingFixed[o][0]=l[t.aaSortingFixed[o][0]];for(o=0,s=a;o<s;o++)for(h=t.aoColumns[o],c=0,v=h.aDataSort.length;c<v;c++)h.aDataSort[c]=l[h.aDataSort[c]];for(o=0,s=a;o<s;o++)h=t.aoColumns[o],"number"==typeof h.mData&&(h.mData=l[h.mData],h.fnGetData=t.oApi._fnGetObjectDataFn(h.mData),h.fnSetData=t.oApi._fnSetObjectDataFn(h.mData));if(t.aoColumns[i].bVisible){for(v=this.oApi._fnColumnIndexToVisible(t,i),h=null,o=e<i?e:e+1;null===h&&o<a;)h=this.oApi._fnColumnIndexToVisible(t,o),o++;for(c=t.nTHead.getElementsByTagName("tr"),o=0,s=c.length;o<s;o++)u(c[o],v,h);if(null!==t.nTFoot)for(c=t.nTFoot.getElementsByTagName("tr"),o=0,s=c.length;o<s;o++)u(c[o],v,h);for(o=0,s=t.aoData.length;o<s;o++)null!==t.aoData[o].nTr&&u(t.aoData[o].nTr,v,h)}for(r(t.aoColumns,i,e),r(t.aoPreSearchCols,i,e),o=0,s=t.aoData.length;o<s;o++)n.isArray(t.aoData[o]._aData)&&r(t.aoData[o]._aData,i,e),r(t.aoData[o]._anHidden,i,e);for(o=0,s=t.aoHeader.length;o<s;o++)r(t.aoHeader[o],i,e);if(null!==t.aoFooter)for(o=0,s=t.aoFooter.length;o<s;o++)r(t.aoFooter[o],i,e);for(o=0,s=a;o<s;o++)n(t.aoColumns[o].nTh).unbind("click"),this.oApi._fnSortAttachListener(t,t.aoColumns[o].nTh,o);n(t.oInstance).trigger("column-reorder",[t,{iFrom:i,iTo:e,aiInvertMapping:l}]),"undefined"!=typeof t.oInstance._oPluginFixedHeader&&t.oInstance._oPluginFixedHeader.fnUpdate()}},ColReorder=function(n,t){return(!this.CLASS||"ColReorder"!=this.CLASS)&&alert("Warning: ColReorder must be initialised with the keyword 'new'"),"undefined"==typeof t&&(t={}),this.s={dt:null,init:t,fixed:0,dropCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]},this.dom={drag:null,pointer:null},this.s.dt=n.oInstance.fnSettings(),this._fnConstruct(),n.oApi._fnCallbackReg(n,"aoDestroyCallback",jQuery.proxy(this._fnDestroy,this),"ColReorder"),ColReorder.aoInstances.push(this),this},ColReorder.prototype={fnReset:function(){for(var t=[],n=0,i=this.s.dt.aoColumns.length;n<i;n++)t.push(this.s.dt.aoColumns[n]._ColReorder_iOrigCol);this._fnOrderColumns(t)},_fnConstruct:function(){var t=this,n,u,i,r;for("undefined"!=typeof this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns),"undefined"!=typeof this.s.init.fnReorderCallback&&(this.s.dropCallback=this.s.init.fnReorderCallback),n=0,u=this.s.dt.aoColumns.length;n<u;n++)n>this.s.fixed-1&&this._fnMouseListener(n,this.s.dt.aoColumns[n].nTh),this.s.dt.aoColumns[n]._ColReorder_iOrigCol=n;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(n,i){t._fnStateSave.call(t,i)},"ColReorder_State"),i=null,"undefined"!=typeof this.s.init.aiOrder&&(i=this.s.init.aiOrder.slice()),this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(i=this.s.dt.oLoadedState.ColReorder),i&&(t.s.dt._bInitComplete?(n=f(i),t._fnOrderColumns.call(t,n)):(r=!1,this.s.dt.aoDrawCallback.push({fn:function(){if(!t.s.dt._bInitComplete&&!r){r=!0;var n=f(i);t._fnOrderColumns.call(t,n)}},sName:"ColReorder_Pre"})))},_fnOrderColumns:function(t){var i,f,u;if(t.length!=this.s.dt.aoColumns.length)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.");else{for(i=0,f=t.length;i<f;i++)u=n.inArray(i,t),i!=u&&(r(t,u,i),this.s.dt.oInstance.fnColReorder(u,i));(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt)}},_fnStateSave:function(t){for(var f,r,u=this.s.dt,i=0;i<t.aaSorting.length;i++)t.aaSorting[i][0]=u.aoColumns[t.aaSorting[i][0]]._ColReorder_iOrigCol;for(aSearchCopy=n.extend(!0,[],t.aoSearchCols),t.ColReorder=[],i=0,f=u.aoColumns.length;i<f;i++)r=u.aoColumns[i]._ColReorder_iOrigCol,t.aoSearchCols[r]=aSearchCopy[i],t.abVisCols[r]=u.aoColumns[i].bVisible,t.ColReorder.push(r)},_fnMouseListener:function(t,i){var r=this;n(i).bind("mousedown.ColReorder",function(n){n.preventDefault(),r._fnMouseDown.call(r,n,i)})},_fnMouseDown:function(t,r){var e=this,o=this.s.dt.aoColumns,f="TH"==t.target.nodeName?t.target:n(t.target).parents("TH")[0],f=n(f).offset(),u,s;for(this.s.mouse.startX=t.pageX,this.s.mouse.startY=t.pageY,this.s.mouse.offsetX=t.pageX-f.left,this.s.mouse.offsetY=t.pageY-f.top,this.s.mouse.target=r,this.s.mouse.targetIndex=n("th",r.parentNode).index(r),this.s.mouse.fromIndex=this.s.dt.oInstance.oApi._fnVisibleToColumnIndex(this.s.dt,this.s.mouse.targetIndex),this.s.aoTargets.splice(0,this.s.aoTargets.length),this.s.aoTargets.push({x:n(this.s.dt.nTable).offset().left,to:0}),u=f=0,s=o.length;u<s;u++)u!=this.s.mouse.fromIndex&&f++,o[u].bVisible&&this.s.aoTargets.push({x:n(o[u].nTh).offset().left+n(o[u].nTh).outerWidth(),to:f});0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed),n(i).bind("mousemove.ColReorder",function(n){e._fnMouseMove.call(e,n)}),n(i).bind("mouseup.ColReorder",function(n){e._fnMouseUp.call(e,n)})},_fnMouseMove:function(n){if(null===this.dom.drag){if(5>Math.pow(Math.pow(n.pageX-this.s.mouse.startX,2)+Math.pow(n.pageY-this.s.mouse.startY,2),.5))return;this._fnCreateDragNode()}this.dom.drag.style.left=n.pageX-this.s.mouse.offsetX+"px",this.dom.drag.style.top=n.pageY-this.s.mouse.offsetY+"px";for(var i=!1,t=1,r=this.s.aoTargets.length;t<r;t++)if(n.pageX<this.s.aoTargets[t-1].x+(this.s.aoTargets[t].x-this.s.aoTargets[t-1].x)/2){this.dom.pointer.style.left=this.s.aoTargets[t-1].x+"px",this.s.mouse.toIndex=this.s.aoTargets[t-1].to,i=!0;break}i||(this.dom.pointer.style.left=this.s.aoTargets[this.s.aoTargets.length-1].x+"px",this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to)},_fnMouseUp:function(){n(i).unbind("mousemove.ColReorder"),n(i).unbind("mouseup.ColReorder"),null!==this.dom.drag&&(i.body.removeChild(this.dom.drag),i.body.removeChild(this.dom.pointer),this.dom.drag=null,this.dom.pointer=null,this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex),(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(),null!==this.s.dropCallback&&this.s.dropCallback.call(this),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt))},_fnCreateDragNode:function(){var t=this;for(this.dom.drag=n(this.s.dt.nTHead.parentNode).clone(!0)[0],this.dom.drag.className+=" DTCR_clonedTable";0<this.dom.drag.getElementsByTagName("caption").length;)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("caption")[0]);for(;0<this.dom.drag.getElementsByTagName("tbody").length;)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("tbody")[0]);for(;0<this.dom.drag.getElementsByTagName("tfoot").length;)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("tfoot")[0]);n("thead tr:eq(0)",this.dom.drag).each(function(){n("th",this).eq(t.s.mouse.targetIndex).siblings().remove()}),n("tr",this.dom.drag).height(n("tr:eq(0)",t.s.dt.nTHead).height()),n("thead tr:gt(0)",this.dom.drag).remove(),n("thead th:eq(0)",this.dom.drag).each(function(){this.style.width=n("th:eq("+t.s.mouse.targetIndex+")",t.s.dt.nTHead).width()+"px"}),this.dom.drag.style.position="absolute",this.dom.drag.style.top="0px",this.dom.drag.style.left="0px",this.dom.drag.style.width=n("th:eq("+t.s.mouse.targetIndex+")",t.s.dt.nTHead).outerWidth()+"px",this.dom.pointer=i.createElement("div"),this.dom.pointer.className="DTCR_pointer",this.dom.pointer.style.position="absolute",""===this.s.dt.oScroll.sX&&""===this.s.dt.oScroll.sY?(this.dom.pointer.style.top=n(this.s.dt.nTable).offset().top+"px",this.dom.pointer.style.height=n(this.s.dt.nTable).height()+"px"):(this.dom.pointer.style.top=n("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top+"px",this.dom.pointer.style.height=n("div.dataTables_scroll",this.s.dt.nTableWrapper).height()+"px"),i.body.appendChild(this.dom.pointer),i.body.appendChild(this.dom.drag)},_fnDestroy:function(){for(var t=0,i=ColReorder.aoInstances.length;t<i;t++)if(ColReorder.aoInstances[t]===this){ColReorder.aoInstances.splice(t,1);break}n(this.s.dt.nTHead).find("*").unbind(".ColReorder"),this.s=this.s.dt.oInstance._oPluginColReorder=null}},ColReorder.aoInstances=[],ColReorder.fnReset=function(n){for(var t=0,i=ColReorder.aoInstances.length;t<i;t++)ColReorder.aoInstances[t].s.dt.oInstance==n&&ColReorder.aoInstances[t].fnReset()},ColReorder.prototype.CLASS="ColReorder",ColReorder.VERSION="1.0.8",ColReorder.prototype.VERSION=ColReorder.VERSION,"function"==typeof n.fn.dataTable&&"function"==typeof n.fn.dataTableExt.fnVersionCheck&&n.fn.dataTableExt.fnVersionCheck("1.9.3")?n.fn.dataTableExt.aoFeatures.push({fnInit:function(n){var t=n.oInstance;return"undefined"==typeof t._oPluginColReorder?t._oPluginColReorder=new ColReorder(n,"undefined"!=typeof n.oInit.oColReorder?n.oInit.oColReorder:{}):t.oApi._fnLog(n,1,"ColReorder attempted to initialise twice. Ignoring second"),null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.9.3 or greater - www.datatables.net/download")}(jQuery,window,document),function(n,t){FixedColumns=function(t,i){!this instanceof FixedColumns?alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword."):("undefined"==typeof i&&(i={}),this.s={dt:t.fnSettings(),iTableColumns:t.fnSettings().aoColumns.length,aiWidths:[],bOldIE:n.browser.msie&&("6.0"==n.browser.version||"7.0"==n.browser.version)},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},this.s.dt.oFixedColumns=this,this._fnConstruct(i))},FixedColumns.prototype={fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnGridLayout()},fnRecalculateHeight:function(n){n._DTTC_iHeight=null,n.style.height="auto"},fnSetRowHeight:function(t,i){var r=n(t).children(":first"),r=r.outerHeight()-r.height();n.browser.mozilla||n.browser.opera?t.style.height=i+"px":n(t).children().height(i-r)},_fnConstruct:function(i){var u,r=this,f;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+FixedColumns.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=n.extend(!0,this.s,FixedColumns.defaults,i),this.dom.grid.dt=n(this.s.dt.nTable).parents("div.dataTables_scroll")[0],this.dom.scroller=n("div.dataTables_scrollBody",this.dom.grid.dt)[0];var i=n(this.dom.grid.dt).width(),o=0,e=0;for(n("tbody>tr:eq(0)>td",this.s.dt.nTable).each(function(t){u=n(this).outerWidth(),r.s.aiWidths.push(u),t<r.s.iLeftColumns&&(o+=u),r.s.iTableColumns-r.s.iRightColumns<=t&&(e+=u)}),null===this.s.iLeftWidth&&(this.s.iLeftWidth="fixed"==this.s.sLeftWidth?o:100*(o/i)),null===this.s.iRightWidth&&(this.s.iRightWidth="fixed"==this.s.sRightWidth?e:100*(e/i)),this._fnGridSetup(),i=0;i<this.s.iLeftColumns;i++)this.s.dt.oInstance.fnSetColumnVis(i,!1);for(i=this.s.iTableColumns-this.s.iRightColumns;i<this.s.iTableColumns;i++)this.s.dt.oInstance.fnSetColumnVis(i,!1);n(this.dom.scroller).scroll(function(){r.dom.grid.left.body.scrollTop=r.dom.scroller.scrollTop,r.s.iRightColumns>0&&(r.dom.grid.right.body.scrollTop=r.dom.scroller.scrollTop)}),n(t).resize(function(){r._fnGridLayout.call(r)}),f=!0,this.s.dt.aoDrawCallback=[{fn:function(){r._fnDraw.call(r,f),r._fnGridHeight(r),f=!1},sName:"FixedColumns"}].concat(this.s.dt.aoDrawCallback),this._fnGridLayout(),this._fnGridHeight(),this.s.dt.oInstance.fnDraw(!1)}},_fnGridSetup:function(){this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var t=n('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div></div>')[0];nLeft=t.childNodes[0],nRight=t.childNodes[1],this.dom.grid.wrapper=t,this.dom.grid.left.wrapper=nLeft,this.dom.grid.left.head=nLeft.childNodes[0],this.dom.grid.left.body=nLeft.childNodes[1],0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=nRight,this.dom.grid.right.head=nRight.childNodes[0],this.dom.grid.right.body=nRight.childNodes[1]),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,this.dom.grid.left.foot=nLeft.childNodes[2],0<this.s.iRightColumns&&(this.dom.grid.right.foot=nRight.childNodes[2])),t.appendChild(nLeft),this.dom.grid.dt.parentNode.insertBefore(t,this.dom.grid.dt),t.appendChild(this.dom.grid.dt),this.dom.grid.dt.style.position="absolute",this.dom.grid.dt.style.top="0px",this.dom.grid.dt.style.left=this.s.iLeftWidth+"px",this.dom.grid.dt.style.width=n(this.dom.grid.dt).width()-this.s.iLeftWidth-this.s.iRightWidth+"px"},_fnGridLayout:function(){var t=this.dom.grid,i=n(t.wrapper).width(),u=0,r=0,u="fixed"==this.s.sLeftWidth?this.s.iLeftWidth:this.s.iLeftWidth/100*i,r="fixed"==this.s.sRightWidth?this.s.iRightWidth:this.s.iRightWidth/100*i;t.left.wrapper.style.width=u+"px",t.dt.style.width=i-u-r+"px",t.dt.style.left=u+"px",0<this.s.iRightColumns&&(t.right.wrapper.style.width=r+"px",t.right.wrapper.style.left=i-r+"px")},_fnGridHeight:function(){var t=this.dom.grid,i=n(this.dom.grid.dt).height();t.wrapper.style.height=i+"px",t.left.body.style.height=n(this.dom.scroller).height()+"px",t.left.wrapper.style.height=i+"px",0<this.s.iRightColumns&&(t.right.wrapper.style.height=i+"px",t.right.body.style.height=n(this.dom.scroller).height()+"px")},_fnDraw:function(t){this._fnCloneLeft(t),this._fnCloneRight(t),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),n(this).trigger("draw",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(n){if(!(0>=this.s.iRightColumns)){for(var i=[],t=this.s.iTableColumns-this.s.iRightColumns;t<this.s.iTableColumns;t++)i.push(t);this._fnClone(this.dom.clone.right,this.dom.grid.right,i,n)}},_fnCloneLeft:function(n){if(!(0>=this.s.iLeftColumns)){for(var i=[],t=0;t<this.s.iLeftColumns;t++)i.push(t);this._fnClone(this.dom.clone.left,this.dom.grid.left,i,n)}},_fnCopyLayout:function(t,i){for(var e,r,s,f,h=[],c=[],o=[],u=0,l=t.length;u<l;u++){for(e=[],e.nTr=n(t[u].nTr).clone(!0)[0],r=0,s=this.s.iTableColumns;r<s;r++)-1!==n.inArray(r,i)&&(f=n.inArray(t[u][r].cell,o),-1===f?(f=n(t[u][r].cell).clone(!0)[0],c.push(f),o.push(t[u][r].cell),e.push({cell:f,unique:t[u][r].unique})):e.push({cell:c[f],unique:t[u][r].unique}));h.push(e)}return h},_fnClone:function(t,i,r,u){var s=this,f,o,h,v,l,c,a,e,p,y;if(u){for(null!==t.header&&t.header.parentNode.removeChild(t.header),t.header=n(this.dom.header).clone(!0)[0],t.header.className+=" DTFC_Cloned",t.header.style.width="100%",i.head.appendChild(t.header),e=this._fnCopyLayout(this.s.dt.aoHeader,r),v=n(">thead",t.header),v.empty(),f=0,o=e.length;f<o;f++)v[0].appendChild(e[f].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,e,!0)}else for(e=this._fnCopyLayout(this.s.dt.aoHeader,r),p=[],this.s.dt.oApi._fnDetectHeader(p,n(">thead",t.header)[0]),f=0,o=e.length;f<o;f++)for(h=0,v=e[f].length;h<v;h++)p[f][h].cell.className=e[f][h].cell.className,n("span.DataTables_sort_icon",p[f][h].cell).each(function(){this.className=n("span.DataTables_sort_icon",e[f][h].cell)[0].className});if(this._fnEqualiseHeights("thead",this.dom.header,t.header),"auto"==this.s.sHeightMatch&&n(">tbody>tr",s.dom.body).css("height","auto"),null!==t.body&&(t.body.parentNode.removeChild(t.body),t.body=null),t.body=n(this.dom.body).clone(!0)[0],t.body.className+=" DTFC_Cloned",t.body.style.paddingBottom=this.s.dt.oScroll.iBarWidth+"px",t.body.style.marginBottom=2*this.s.dt.oScroll.iBarWidth+"px",null!==t.body.getAttribute("id")&&t.body.removeAttribute("id"),n(">thead>tr",t.body).empty(),n(">tfoot",t.body).remove(),y=n("tbody",t.body)[0],n(y).empty(),0<this.s.dt.aiDisplay.length){for(o=n(">thead>tr",t.body)[0],a=0;a<r.length;a++)l=r[a],c=this.s.dt.aoColumns[l].nTh,c.innerHTML="",oStyle=c.style,oStyle.paddingTop="0",oStyle.paddingBottom="0",oStyle.borderTopWidth="0",oStyle.borderBottomWidth="0",oStyle.height=0,oStyle.width=s.s.aiWidths[l]+"px",o.appendChild(c);n(">tbody>tr",s.dom.body).each(function(t){var i=this.cloneNode(!1),t=s.s.dt.oFeatures.bServerSide===!1?s.s.dt.aiDisplay[s.s.dt._iDisplayStart+t]:t;for(a=0;a<r.length;a++)l=r[a],typeof s.s.dt.aoData[t]._anHidden[l]!="undefined"&&(c=n(s.s.dt.aoData[t]._anHidden[l]).clone(!0)[0],i.appendChild(c));y.appendChild(i)})}else n(">tbody>tr",s.dom.body).each(function(){c=this.cloneNode(!0),c.className=c.className+" DTFC_NoData",n("td",c).html(""),y.appendChild(c)});if(t.body.style.width="100%",i.body.appendChild(t.body),this._fnEqualiseHeights("tbody",s.dom.body,t.body),null!==this.s.dt.nTFoot){if(u){for(null!==t.footer&&t.footer.parentNode.removeChild(t.footer),t.footer=n(this.dom.footer).clone(!0)[0],t.footer.className+=" DTFC_Cloned",t.footer.style.width="100%",i.foot.appendChild(t.footer),e=this._fnCopyLayout(this.s.dt.aoFooter,r),i=n(">tfoot",t.footer),i.empty(),f=0,o=e.length;f<o;f++)i[0].appendChild(e[f].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,e,!0)}else for(e=this._fnCopyLayout(this.s.dt.aoFooter,r),i=[],this.s.dt.oApi._fnDetectHeader(i,n(">tfoot",t.footer)[0]),f=0,o=e.length;f<o;f++)for(h=0,v=e[f].length;h<v;h++)i[f][h].cell.className=e[f][h].cell.className;this._fnEqualiseHeights("tfoot",this.dom.footer,t.footer)}o=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,n(">thead",t.header)[0]),n(o).each(function(n){l=r[n],this.style.width=s.s.aiWidths[l]+"px"}),null!==s.s.dt.nTFoot&&(o=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,n(">tfoot",t.footer)[0]),n(o).each(function(n){l=r[n],this.style.width=s.s.aiWidths[l]+"px"}))},_fnGetTrNodes:function(n){for(var i=[],t=0,r=n.childNodes.length;t<r;t++)"TR"==n.childNodes[t].nodeName.toUpperCase()&&i.push(n.childNodes[t]);return i},_fnEqualiseHeights:function(t,i,r){if(!("none"==this.s.sHeightMatch&&"thead"!==t&&"tfoot"!==t))for(var u,o,f=i.getElementsByTagName(t)[0],r=r.getElementsByTagName(t)[0],t=n(">"+t+">tr:eq(0)",i).children(":first"),t=t.outerHeight()-t.height(),f=this._fnGetTrNodes(f),e=this._fnGetTrNodes(r),r=0,i=e.length;r<i;r++)"semiauto"==this.s.sHeightMatch&&"undefined"!=typeof f[r]._DTTC_iHeight&&null!==f[r]._DTTC_iHeight?n.browser.msie&&n(e[r]).children().height(f[r]._DTTC_iHeight-t):(u=f[r].offsetHeight,o=e[r].offsetHeight,u=o>u?o:u,"semiauto"==this.s.sHeightMatch&&(f[r]._DTTC_iHeight=u),n.browser.msie&&8>n.browser.version)?(n(e[r]).children().height(u-t),n(f[r]).children().height(u-t)):(e[r].style.height=u+"px",f[r].style.height=u+"px")}},FixedColumns.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sLeftWidth:"fixed",iLeftWidth:null,sRightWidth:"fixed",iRightWidth:null,sHeightMatch:"semiauto"},FixedColumns.prototype.CLASS="FixedColumns",FixedColumns.VERSION="2.0.3"}(jQuery,window,document),FixedHeader=function(n,t){if("function"!=typeof this.fnInit)alert("FixedHeader warning: FixedHeader must be initialised with the 'new' keyword.");else{var i={aoCache:[],oSides:{top:!0,bottom:!1,left:!1,right:!1},oZIndexes:{top:104,bottom:103,left:102,right:101},oMes:{iTableWidth:0,iTableHeight:0,iTableLeft:0,iTableRight:0,iTableTop:0,iTableBottom:0},oOffset:{top:0},nTable:null,bUseAbsPos:!1,bFooter:!1};this.fnGetSettings=function(){return i},this.fnUpdate=function(){this._fnUpdateClones(),this._fnUpdatePositions()},this.fnPosition=function(){this._fnUpdatePositions()},this.fnInit(n,t),"function"==typeof n.fnSettings&&(n._oPluginFixedHeader=this)}},FixedHeader.prototype={fnInit:function(n,t){var r=this.fnGetSettings(),i=this,u;if(this.fnInitSettings(r,t),"function"==typeof n.fnSettings){if("functon"==typeof n.fnVersionCheck&&!0!==n.fnVersionCheck("1.6.0")){alert("FixedHeader 2 required DataTables 1.6.0 or later. Please upgrade your DataTables installation");return}if(u=n.fnSettings(),""!=u.oScroll.sX||""!=u.oScroll.sY){alert("FixedHeader 2 is not supported with DataTables' scrolling mode at this time");return}r.nTable=u.nTable,u.aoDrawCallback.push({fn:function(){FixedHeader.fnMeasure(),i._fnUpdateClones.call(i),i._fnUpdatePositions.call(i)},sName:"FixedHeader"})}else r.nTable=n;r.bFooter=0<$(">tfoot",r.nTable).length?!0:!1,r.bUseAbsPos=jQuery.browser.msie&&("6.0"==jQuery.browser.version||"7.0"==jQuery.browser.version),r.oSides.top&&r.aoCache.push(i._fnCloneTable("fixedHeader","FixedHeader_Header",i._fnCloneThead)),r.oSides.bottom&&r.aoCache.push(i._fnCloneTable("fixedFooter","FixedHeader_Footer",i._fnCloneTfoot)),r.oSides.left&&r.aoCache.push(i._fnCloneTable("fixedLeft","FixedHeader_Left",i._fnCloneTLeft)),r.oSides.right&&r.aoCache.push(i._fnCloneTable("fixedRight","FixedHeader_Right",i._fnCloneTRight)),FixedHeader.afnScroll.push(function(){i._fnUpdatePositions.call(i)}),jQuery(window).resize(function(){FixedHeader.fnMeasure(),i._fnUpdateClones.call(i),i._fnUpdatePositions.call(i)}),FixedHeader.fnMeasure(),i._fnUpdateClones(),i._fnUpdatePositions()},fnInitSettings:function(n,t){"undefined"!=typeof t&&("undefined"!=typeof t.top&&(n.oSides.top=t.top),"undefined"!=typeof t.bottom&&(n.oSides.bottom=t.bottom),"undefined"!=typeof t.left&&(n.oSides.left=t.left),"undefined"!=typeof t.right&&(n.oSides.right=t.right),"undefined"!=typeof t.zTop&&(n.oZIndexes.top=t.zTop),"undefined"!=typeof t.zBottom&&(n.oZIndexes.bottom=t.zBottom),"undefined"!=typeof t.zLeft&&(n.oZIndexes.left=t.zLeft),"undefined"!=typeof t.zRight&&(n.oZIndexes.right=t.zRight),"undefined"!=typeof t.offsetTop)&&(n.oOffset.top=t.offsetTop),n.bUseAbsPos=jQuery.browser.msie&&("6.0"==jQuery.browser.version||"7.0"==jQuery.browser.version)},_fnCloneTable:function(n,t,i){var u=this.fnGetSettings(),f,r;return"absolute"!=jQuery(u.nTable.parentNode).css("position")&&(u.nTable.parentNode.style.position="relative"),f=u.nTable.cloneNode(!1),f.removeAttribute("id"),r=document.createElement("div"),r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.className+=" FixedHeader_Cloned "+n+" "+t,"fixedHeader"==n&&(r.style.zIndex=u.oZIndexes.top),"fixedFooter"==n&&(r.style.zIndex=u.oZIndexes.bottom),"fixedLeft"==n?r.style.zIndex=u.oZIndexes.left:"fixedRight"==n&&(r.style.zIndex=u.oZIndexes.right),f.style.margin="0",r.appendChild(f),document.body.appendChild(r),{nNode:f,nWrapper:r,sType:n,sPosition:"",sTop:"",sLeft:"",fnClone:i}},_fnMeasure:function(){var t=this.fnGetSettings(),n=t.oMes,i=jQuery(t.nTable),r=i.offset(),u=this._fnSumScroll(t.nTable.parentNode,"scrollTop");this._fnSumScroll(t.nTable.parentNode,"scrollLeft"),n.iTableWidth=i.outerWidth(),n.iTableHeight=i.outerHeight(),n.iTableLeft=r.left+t.nTable.parentNode.scrollLeft,n.iTableTop=r.top+u,n.iTableRight=n.iTableLeft+n.iTableWidth,n.iTableRight=FixedHeader.oDoc.iWidth-n.iTableLeft-n.iTableWidth,n.iTableBottom=FixedHeader.oDoc.iHeight-n.iTableTop-n.iTableHeight},_fnSumScroll:function(n,t){for(var i=n[t];(n=n.parentNode)&&!("HTML"==n.nodeName||"BODY"==n.nodeName);)i=n[t];return i},_fnUpdatePositions:function(){var t=this.fnGetSettings(),n,i;for(this._fnMeasure(),n=0,i=t.aoCache.length;n<i;n++)"fixedHeader"==t.aoCache[n].sType?this._fnScrollFixedHeader(t.aoCache[n]):"fixedFooter"==t.aoCache[n].sType?this._fnScrollFixedFooter(t.aoCache[n]):"fixedLeft"==t.aoCache[n].sType?this._fnScrollHorizontalLeft(t.aoCache[n]):this._fnScrollHorizontalRight(t.aoCache[n])},_fnUpdateClones:function(){for(var t=this.fnGetSettings(),n=0,i=t.aoCache.length;n<i;n++)t.aoCache[n].fnClone.call(this,t.aoCache[n])},_fnScrollHorizontalRight:function(n){var e=this.fnGetSettings(),i=e.oMes,r=FixedHeader.oWin,f=FixedHeader.oDoc,t=n.nWrapper,u=jQuery(t).outerWidth();r.iScrollRight<i.iTableRight?(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+i.iTableWidth-u+"px","left",t.style)):i.iTableLeft<f.iWidth-r.iScrollRight-u?e.bUseAbsPos?(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft",f.iWidth-r.iScrollRight-u+"px","left",t.style)):(this._fnUpdateCache(n,"sPosition","fixed","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop-r.iScrollTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft",r.iWidth-u+"px","left",t.style)):(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+"px","left",t.style))},_fnScrollHorizontalLeft:function(n){var f=this.fnGetSettings(),i=f.oMes,r=FixedHeader.oWin,t=n.nWrapper,u=jQuery(t).outerWidth();r.iScrollLeft<i.iTableLeft?(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+"px","left",t.style)):r.iScrollLeft<i.iTableLeft+i.iTableWidth-u?f.bUseAbsPos?(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft",r.iScrollLeft+"px","left",t.style)):(this._fnUpdateCache(n,"sPosition","fixed","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop-r.iScrollTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft","0px","left",t.style)):(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+i.iTableWidth-u+"px","left",t.style))},_fnScrollFixedFooter:function(n){var f=this.fnGetSettings(),i=f.oMes,u=FixedHeader.oWin,e=FixedHeader.oDoc,t=n.nWrapper,o=jQuery("thead",f.nTable).outerHeight(),r=jQuery(t).outerHeight();u.iScrollBottom<i.iTableBottom?(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+i.iTableHeight-r+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+"px","left",t.style)):u.iScrollBottom<i.iTableBottom+i.iTableHeight-r-o?f.bUseAbsPos?(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",e.iHeight-u.iScrollBottom-r+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+"px","left",t.style)):(this._fnUpdateCache(n,"sPosition","fixed","position",t.style),this._fnUpdateCache(n,"sTop",u.iHeight-r+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft-u.iScrollLeft+"px","left",t.style)):(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+r+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+"px","left",t.style))},_fnScrollFixedHeader:function(n){for(var r=this.fnGetSettings(),i=r.oMes,u=FixedHeader.oWin,t=n.nWrapper,e=0,o=r.nTable.getElementsByTagName("tbody"),f=0;f<o.length;++f)e+=o[f].offsetHeight;i.iTableTop>u.iScrollTop+r.oOffset.top?(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+"px","left",t.style)):u.iScrollTop+r.oOffset.top>i.iTableTop+e?(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",i.iTableTop+e+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+"px","left",t.style)):r.bUseAbsPos?(this._fnUpdateCache(n,"sPosition","absolute","position",t.style),this._fnUpdateCache(n,"sTop",u.iScrollTop+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft+"px","left",t.style)):(this._fnUpdateCache(n,"sPosition","fixed","position",t.style),this._fnUpdateCache(n,"sTop",r.oOffset.top+"px","top",t.style),this._fnUpdateCache(n,"sLeft",i.iTableLeft-u.iScrollLeft+"px","left",t.style))},_fnUpdateCache:function(n,t,i,r,u){n[t]!=i&&(u[r]=i,n[t]=i)},_fnCloneThead:function(n){var i=this.fnGetSettings(),t=n.nNode;for(n.nWrapper.style.width=jQuery(i.nTable).outerWidth()+"px";0<t.childNodes.length;)jQuery("thead th",t).unbind("click"),t.removeChild(t.childNodes[0]);n=jQuery("thead",i.nTable).clone(!0)[0],t.appendChild(n),jQuery("thead>tr th",i.nTable).each(function(n){jQuery("thead>tr th:eq("+n+")",t).width(jQuery(this).width())}),jQuery("thead>tr td",i.nTable).each(function(n){jQuery("thead>tr td:eq("+n+")",t).width(jQuery(this).width())})},_fnCloneTfoot:function(n){var i=this.fnGetSettings(),t=n.nNode;for(n.nWrapper.style.width=jQuery(i.nTable).outerWidth()+"px";0<t.childNodes.length;)t.removeChild(t.childNodes[0]);n=jQuery("tfoot",i.nTable).clone(!0)[0],t.appendChild(n),jQuery("tfoot:eq(0)>tr th",i.nTable).each(function(n){jQuery("tfoot:eq(0)>tr th:eq("+n+")",t).width(jQuery(this).width())}),jQuery("tfoot:eq(0)>tr td",i.nTable).each(function(n){jQuery("tfoot:eq(0)>tr th:eq("+n+")",t)[0].style.width(jQuery(this).width())})},_fnCloneTLeft:function(n){var i=this.fnGetSettings(),t=n.nNode,r=$("tbody",i.nTable)[0];for($("tbody tr:eq(0) td",i.nTable);0<t.childNodes.length;)t.removeChild(t.childNodes[0]);t.appendChild(jQuery("thead",i.nTable).clone(!0)[0]),t.appendChild(jQuery("tbody",i.nTable).clone(!0)[0]),i.bFooter&&t.appendChild(jQuery("tfoot",i.nTable).clone(!0)[0]),$("thead tr",t).each(function(){$("th:gt(0)",this).remove()}),$("tfoot tr",t).each(function(){$("th:gt(0)",this).remove()}),$("tbody tr",t).each(function(){$("td:gt(0)",this).remove()}),this.fnEqualiseHeights("tbody",r.parentNode,t),i=jQuery("thead tr th:eq(0)",i.nTable).outerWidth(),t.style.width=i+"px",n.nWrapper.style.width=i+"px"},_fnCloneTRight:function(n){for(var i=this.fnGetSettings(),u=$("tbody",i.nTable)[0],t=n.nNode,r=jQuery("tbody tr:eq(0) td",i.nTable).length;0<t.childNodes.length;)t.removeChild(t.childNodes[0]);t.appendChild(jQuery("thead",i.nTable).clone(!0)[0]),t.appendChild(jQuery("tbody",i.nTable).clone(!0)[0]),i.bFooter&&t.appendChild(jQuery("tfoot",i.nTable).clone(!0)[0]),jQuery("thead tr th:not(:nth-child("+r+"n))",t).remove(),jQuery("tfoot tr th:not(:nth-child("+r+"n))",t).remove(),$("tbody tr",t).each(function(){$("td:lt("+(r-1)+")",this).remove()}),this.fnEqualiseHeights("tbody",u.parentNode,t),i=jQuery("thead tr th:eq("+(r-1)+")",i.nTable).outerWidth(),t.style.width=i+"px",n.nWrapper.style.width=i+"px"},fnEqualiseHeights:function(n,t,i){var r=$(n+" tr:eq(0)",t).children(":eq(0)"),f=r.outerHeight()-r.height(),u=$.browser.msie&&("6.0"==$.browser.version||"7.0"==$.browser.version);$(n+" tr",i).each(function(i){$.browser.mozilla||$.browser.opera?$(this).children().height($(n+" tr:eq("+i+")",t).outerHeight()):$(this).children().height($(n+" tr:eq("+i+")",t).outerHeight()-f),u||$(n+" tr:eq("+i+")",t).height($(n+" tr:eq("+i+")",t).outerHeight())})}},FixedHeader.oWin={iScrollTop:0,iScrollRight:0,iScrollBottom:0,iScrollLeft:0,iHeight:0,iWidth:0},FixedHeader.oDoc={iHeight:0,iWidth:0},FixedHeader.afnScroll=[],FixedHeader.fnMeasure=function(){var i=jQuery(window),r=jQuery(document),n=FixedHeader.oWin,t=FixedHeader.oDoc;t.iHeight=r.height(),t.iWidth=r.width(),n.iHeight=i.height(),n.iWidth=i.width(),n.iScrollTop=i.scrollTop(),n.iScrollLeft=i.scrollLeft(),n.iScrollRight=t.iWidth-n.iScrollLeft-n.iWidth,n.iScrollBottom=t.iHeight-n.iScrollTop-n.iHeight},FixedHeader.VERSION="2.0.6",FixedHeader.prototype.VERSION=FixedHeader.VERSION,jQuery(window).scroll(function(){FixedHeader.fnMeasure();for(var n=0,t=FixedHeader.afnScroll.length;n<t;n++)FixedHeader.afnScroll[n]()}),ZeroClipboard_TableTools={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(n){return"string"==typeof n&&(n=document.getElementById(n)),n.addClass||(n.hide=function(){this.style.display="none"},n.show=function(){this.style.display=""},n.addClass=function(n){this.removeClass(n),this.className+=" "+n},n.removeClass=function(n){this.className=this.className.replace(RegExp("\\s*"+n+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},n.hasClass=function(n){return!!this.className.match(RegExp("\\s*"+n+"\\s*"))}),n},setMoviePath:function(n){this.moviePath=n},dispatch:function(n,t,i){(n=this.clients[n])&&n.receiveEvent(t,i)},register:function(n,t){this.clients[n]=t},getDOMObjectPosition:function(n){var t={left:0,top:0,width:n.width?n.width:n.offsetWidth,height:n.height?n.height:n.offsetHeight};for(""!=n.style.width&&(t.width=n.style.width.replace("px","")),""!=n.style.height&&(t.height=n.style.height.replace("px",""));n;)t.left+=n.offsetLeft,t.top+=n.offsetTop,n=n.offsetParent;return t},Client:function(n){this.handlers={},this.id=ZeroClipboard_TableTools.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,ZeroClipboard_TableTools.register(this.id,this),n&&this.glue(n)}},ZeroClipboard_TableTools.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,glue:function(n,t){var u,i,r;this.domElement=ZeroClipboard_TableTools.$(n),u=99,this.domElement.style.zIndex&&(u=parseInt(this.domElement.style.zIndex)+1),i=ZeroClipboard_TableTools.getDOMObjectPosition(this.domElement),this.div=document.createElement("div"),r=this.div.style,r.position="absolute",r.left="0px",r.top="0px",r.width=i.width+"px",r.height=i.height+"px",r.zIndex=u,"undefined"!=typeof t&&""!=t&&(this.div.title=t),0!=i.width&&0!=i.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height))},positionElement:function(){var t=ZeroClipboard_TableTools.getDOMObjectPosition(this.domElement),n=this.div.style;n.position="absolute",n.width=t.width+"px",n.height=t.height+"px",0!=t.width&&0!=t.height&&(this.sized=!0,n=this.div.childNodes[0],n.width=t.width,n.height=t.height)},getHTML:function(n,t){var i="",u="id="+this.id+"&width="+n+"&height="+t,r;return navigator.userAgent.match(/MSIE/)?(r=location.href.match(/^https/i)?"https://":"http://",i=i+('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+r+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+n+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard_TableTools.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+u+'"/><param name="wmode" value="transparent"/></object>')):i+='<embed id="'+this.movieId+'" src="'+ZeroClipboard_TableTools.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+n+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+u+'" wmode="transparent" />',i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var n=document.getElementsByTagName("body")[0];try{n.removeChild(this.div)}catch(t){}this.div=this.domElement=null}},reposition:function(n){if(n&&((this.domElement=ZeroClipboard_TableTools.$(n))||this.hide()),this.domElement&&this.div){var n=ZeroClipboard_TableTools.getDOMObjectPosition(this.domElement),t=this.div.style;t.left=""+n.left+"px",t.top=""+n.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(n){this.clipText+=n,this.ready&&this.movie.appendText(n)},setText:function(n){this.clipText=n,this.ready&&this.movie.setText(n)},setCharSet:function(n){this.charSet=n,this.ready&&this.movie.setCharSet(n)},setBomInc:function(n){this.incBom=n,this.ready&&this.movie.setBomInc(n)},setFileName:function(n){this.fileName=n,this.ready&&this.movie.setFileName(n)},setAction:function(n){this.action=n,this.ready&&this.movie.setAction(n)},addEventListener:function(n,t){n=n.toString().toLowerCase().replace(/^on/,""),this.handlers[n]||(this.handlers[n]=[]),this.handlers[n].push(t)},setHandCursor:function(n){this.handCursorEnabled=n,this.ready&&this.movie.setHandCursor(n)},setCSSEffects:function(n){this.cssEffects=!!n},receiveEvent:function(n,t){var r,u,f,i;n=n.toString().toLowerCase().replace(/^on/,"");switch(n){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){r=this,setTimeout(function(){r.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){r=this,setTimeout(function(){r.receiveEvent("load",null)},100),this.ready=!0;return}this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setCharSet(this.charSet),this.movie.setBomInc(this.incBom),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[n])for(u=0,f=this.handlers[n].length;u<f;u++)i=this.handlers[n][u],"function"==typeof i?i(this,t):"object"==typeof i&&2==i.length?i[0][i[1]](this,t):"string"==typeof i&&window[i](this,t)}},function(n,t,r){TableTools=function(t,i){return!this instanceof TableTools&&alert("Warning: TableTools must be initialised with the keyword 'new'"),this.s={that:this,dt:t.fnSettings(),print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1,tags:{}},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.classes=n.extend(!0,{},TableTools.classes),this.s.dt.bJUI&&n.extend(!0,this.classes,TableTools.classes_themeroller),this.fnSettings=function(){return this.s},"undefined"==typeof i&&(i={}),this._fnConstruct(i),this},TableTools.prototype={fnGetSelected:function(n){var r=[],t=this.s.dt.aoData,u=this.s.dt.aiDisplay,i;if(n)for(n=0,i=u.length;n<i;n++)t[u[n]]._DTTT_selected&&r.push(t[u[n]].nTr);else for(n=0,i=t.length;n<i;n++)t[n]._DTTT_selected&&r.push(t[n].nTr);return r},fnGetSelectedData:function(){for(var i=[],r=this.s.dt.aoData,n=0,t=r.length;n<t;n++)r[n]._DTTT_selected&&i.push(this.s.dt.oInstance.fnGetData(n));return i},fnIsSelected:function(n){return n=this.s.dt.oInstance.fnGetPosition(n),!0===this.s.dt.aoData[n]._DTTT_selected?!0:!1},fnSelectAll:function(n){var t=this._fnGetMasterSettings();this._fnRowSelect(!0===n?t.dt.aiDisplay:t.dt.aoData)},fnSelectNone:function(n){this._fnGetMasterSettings(),this._fnRowDeselect(this.fnGetSelected(n))},fnSelect:function(n){"single"==this.s.select.type?(this.fnSelectNone(),this._fnRowSelect(n)):"multi"==this.s.select.type&&this._fnRowSelect(n)},fnDeselect:function(n){this._fnRowDeselect(n)},fnGetTitle:function(n){var t="";return"undefined"!=typeof n.sTitle&&""!==n.sTitle?t=n.sTitle:(n=r.getElementsByTagName("title"),0<n.length&&(t=n[0].innerHTML)),4>"¡".toString().length?t.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):t.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(n){for(var e=this.s.dt.aoColumns,n=this._fnColumnTargets(n.mColumns),r=[],u=0,f=0,t=0,i=n.length;t<i;t++)n[t]&&(u=e[t].nTh.offsetWidth,f+=u,r.push(u));for(t=0,i=r.length;t<i;t++)r[t]/=f;return r.join("\t")},fnGetTableData:function(n){if(this.s.dt)return this._fnGetDataTablesData(n)},fnSetText:function(n,t){this._fnFlashSetText(n,t)},fnResizeButtons:function(){var t,n;for(t in ZeroClipboard_TableTools.clients)t&&(n=ZeroClipboard_TableTools.clients[t],"undefined"!=typeof n.domElement&&n.domElement.parentNode&&n.positionElement())},fnResizeRequired:function(){var t,n;for(t in ZeroClipboard_TableTools.clients)if(t&&(n=ZeroClipboard_TableTools.clients[t],"undefined"!=typeof n.domElement&&n.domElement.parentNode==this.dom.container&&!1===n.sized))return!0;return!1},fnPrint:function(n,t){void 0===t&&(t={}),void 0===n||n?this._fnPrintStart(t):this._fnPrintEnd()},fnInfo:function(t,i){var u=r.createElement("div");u.className=this.classes.print.info,u.innerHTML=t,r.body.appendChild(u),setTimeout(function(){n(u).fadeOut("normal",function(){r.body.removeChild(u)})},i)},_fnConstruct:function(n){var t=this;this._fnCustomiseSettings(n),this.dom.container=r.createElement(this.s.tags.container),this.dom.container.className=this.classes.container,"none"!=this.s.select.type&&this._fnRowSelectConfig(),this._fnButtonDefinations(this.s.buttonSet,this.dom.container),this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){t.dom.container.innerHTML=""}})},_fnCustomiseSettings:function(t){"undefined"==typeof this.s.dt._TableToolsInit&&(this.s.master=!0,this.s.dt._TableToolsInit=!0),this.dom.table=this.s.dt.nTable,this.s.custom=n.extend({},TableTools.DEFAULTS,t),this.s.swfPath=this.s.custom.sSwfPath,"undefined"!=typeof ZeroClipboard_TableTools&&(ZeroClipboard_TableTools.moviePath=this.s.swfPath),this.s.select.type=this.s.custom.sRowSelect,this.s.select.preRowSelect=this.s.custom.fnPreRowSelect,this.s.select.postSelected=this.s.custom.fnRowSelected,this.s.select.postDeselected=this.s.custom.fnRowDeselected,this.s.custom.sSelectedClass&&(this.classes.select.row=this.s.custom.sSelectedClass),this.s.tags=this.s.custom.oTags,this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(t,i){for(var u,r=0,f=t.length;r<f;r++){if("string"==typeof t[r]){if("undefined"==typeof TableTools.BUTTONS[t[r]]){alert("TableTools: Warning - unknown button type: "+t[r]);continue}u=n.extend({},TableTools.BUTTONS[t[r]],!0)}else{if("undefined"==typeof TableTools.BUTTONS[t[r].sExtends]){alert("TableTools: Warning - unknown button type: "+t[r].sExtends);continue}u=n.extend({},TableTools.BUTTONS[t[r].sExtends],!0),u=n.extend(u,t[r],!0)}i.appendChild(this._fnCreateButton(u,n(i).hasClass(this.classes.collection.container)))}},_fnCreateButton:function(n,t){var i=this._fnButtonBase(n,t);return n.sAction.match(/flash/)?this._fnFlashConfig(i,n):"text"==n.sAction?this._fnTextConfig(i,n):"div"==n.sAction?this._fnTextConfig(i,n):"collection"==n.sAction&&(this._fnTextConfig(i,n),this._fnCollectionConfig(i,n)),i},_fnButtonBase:function(n,t){var i,u,e,f;return t?(i="default"!==n.sTag?n.sTag:this.s.tags.collection.button,u="default"!==n.sLinerTag?n.sLiner:this.s.tags.collection.liner,e=this.classes.collection.buttons.normal):(i="default"!==n.sTag?n.sTag:this.s.tags.button,u="default"!==n.sLinerTag?n.sLiner:this.s.tags.liner,e=this.classes.buttons.normal),i=r.createElement(i),u=r.createElement(u),f=this._fnGetMasterSettings(),i.className=e+" "+n.sButtonClass,i.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+f.buttonCounter),i.appendChild(u),u.innerHTML=n.sButtonText,f.buttonCounter++,i},_fnGetMasterSettings:function(){if(this.s.master)return this.s;for(var t=TableTools._aInstances,n=0,i=t.length;n<i;n++)if(this.dom.table==t[n].s.dt.nTable)return t[n].s},_fnCollectionConfig:function(n,t){var i=r.createElement(this.s.tags.collection.container);i.style.display="none",i.className=this.classes.collection.container,t._collection=i,r.body.appendChild(i),this._fnButtonDefinations(t.aButtons,i)},_fnCollectionShow:function(i,u){var v=this,h=n(i).offset(),f=u._collection,a=h.left,h=h.top+n(i).outerHeight(),o=n(t).height(),l=n(r).height(),s=n(t).width(),c=n(r).width(),e;f.style.position="absolute",f.style.left=a+"px",f.style.top=h+"px",f.style.display="block",n(f).css("opacity",0),e=r.createElement("div"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.height=(o>l?o:l)+"px",e.style.width=(s>c?s:c)+"px",e.className=this.classes.collection.background,n(e).css("opacity",0),r.body.appendChild(e),r.body.appendChild(f),o=n(f).outerWidth(),s=n(f).outerHeight(),a+o>c&&(f.style.left=c-o+"px"),h+s>l&&(f.style.top=h-s-n(i).outerHeight()+"px"),this.dom.collection.collection=f,this.dom.collection.background=e,setTimeout(function(){n(f).animate({opacity:1},500),n(e).animate({opacity:.25},500)},10),this.fnResizeButtons(),n(e).click(function(){v._fnCollectionHide.call(v,null,null)})},_fnCollectionHide:function(t,i){!(null!==i&&"collection"==i.sExtends)&&null!==this.dom.collection.collection&&(n(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"}),n(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){var t=this,i=this.s.dt;n(i.nTable).addClass(this.classes.select.table),n("tr",i.nTBody).live("click",function(n){this.parentNode==i.nTBody&&null!==i.oInstance.fnGetData(this)&&(t.fnIsSelected(this)?t._fnRowDeselect(this,n):"single"==t.s.select.type?(t.fnSelectNone(),t._fnRowSelect(this,n)):"multi"==t.s.select.type&&t._fnRowSelect(this,n))}),i.oApi._fnCallbackReg(i,"aoRowCreatedCallback",function(r,u,f){i.aoData[f]._DTTT_selected&&n(r).addClass(t.classes.select.row)},"TableTools-SelectAll")}},_fnRowSelect:function(t,i){for(var u=this._fnSelectData(t),e=[],r=0,f=u.length;r<f;r++)u[r].nTr&&e.push(u[r].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,i,e,!0)){for(r=0,f=u.length;r<f;r++)u[r]._DTTT_selected=!0,u[r].nTr&&n(u[r].nTr).addClass(this.classes.select.row);null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,e),TableTools._fnEventDispatch(this,"select",e,!0)}},_fnRowDeselect:function(t,i){for(var u=this._fnSelectData(t),e=[],r=0,f=u.length;r<f;r++)u[r].nTr&&e.push(u[r].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,i,e,!1)){for(r=0,f=u.length;r<f;r++)u[r]._DTTT_selected=!1,u[r].nTr&&n(u[r].nTr).removeClass(this.classes.select.row);null!==this.s.select.postDeselected&&this.s.select.postDeselected.call(this,e),TableTools._fnEventDispatch(this,"select",e,!1)}},_fnSelectData:function(n){var i=[],r,t,u;if(n.nodeName)r=this.s.dt.oInstance.fnGetPosition(n),i.push(this.s.dt.aoData[r]);else if("undefined"!=typeof n.length)for(t=0,u=n.length;t<u;t++)n[t].nodeName?(r=this.s.dt.oInstance.fnGetPosition(n[t]),i.push(this.s.dt.aoData[r])):"number"==typeof n[t]?i.push(this.s.dt.aoData[n[t]]):i.push(n[t]);else i.push(n);return i},_fnTextConfig:function(t,i){var r=this;null!==i.fnInit&&i.fnInit.call(this,t,i),""!==i.sToolTip&&(t.title=i.sToolTip),n(t).hover(function(){i.fnMouseover!==null&&i.fnMouseover.call(this,t,i,null)},function(){i.fnMouseout!==null&&i.fnMouseout.call(this,t,i,null)}),null!==i.fnSelect&&TableTools._fnEventListen(this,"select",function(n){i.fnSelect.call(r,t,i,n)}),n(t).click(function(){i.fnClick!==null&&i.fnClick.call(r,t,i,null),i.fnComplete!==null&&i.fnComplete.call(r,t,i,null,null),r._fnCollectionHide(t,i)})},_fnFlashConfig:function(n,t){var r=this,i=new ZeroClipboard_TableTools.Client;null!==t.fnInit&&t.fnInit.call(this,n,t),i.setHandCursor(!0),"flash_save"==t.sAction?(i.setAction("save"),i.setCharSet("utf16le"==t.sCharSet?"UTF16LE":"UTF8"),i.setBomInc(t.bBomInc),i.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):"flash_pdf"==t.sAction?(i.setAction("pdf"),i.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):i.setAction("copy"),i.addEventListener("mouseOver",function(){t.fnMouseover!==null&&t.fnMouseover.call(r,n,t,i)}),i.addEventListener("mouseOut",function(){t.fnMouseout!==null&&t.fnMouseout.call(r,n,t,i)}),i.addEventListener("mouseDown",function(){t.fnClick!==null&&t.fnClick.call(r,n,t,i)}),i.addEventListener("complete",function(u,f){t.fnComplete!==null&&t.fnComplete.call(r,n,t,i,f),r._fnCollectionHide(n,t)}),this._fnFlashGlue(i,n,t.sToolTip)},_fnFlashGlue:function(n,t,i){var f=this,u=t.getAttribute("id");r.getElementById(u)?n.glue(t,i):setTimeout(function(){f._fnFlashGlue(n,t,i)},100)},_fnFlashSetText:function(n,t){var u=this._fnChunkData(t,8192),i,r;for(n.clearText(),i=0,r=u.length;i<r;i++)n.appendText(u[i])},_fnColumnTargets:function(n){var r=[],t=this.s.dt;if("object"==typeof n){for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(!1);for(i=0,iLen=n.length;i<iLen;i++)r[n[i]]=!0}else if("visible"==n)for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(t.aoColumns[i].bVisible?!0:!1);else if("hidden"==n)for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(t.aoColumns[i].bVisible?!1:!0);else if("sortable"==n)for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(t.aoColumns[i].bSortable?!0:!1);else for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(!0);return r},_fnNewline:function(n){return"auto"==n.sNewLine?navigator.userAgent.match(/Windows/)?"\r\n":"\n":n.sNewLine},_fnGetDataTablesData:function(t){var r,o,e,h,f,c=[],i="",u=this.s.dt,a,l=RegExp(t.sFieldBoundary,"g"),v=this._fnColumnTargets(t.mColumns),s;if(e="undefined"!=typeof t.bSelectedOnly?t.bSelectedOnly:!1,t.bHeader){for(f=[],r=0,o=u.aoColumns.length;r<o;r++)v[r]&&(i=u.aoColumns[r].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),i=this._fnHtmlDecode(i),f.push(this._fnBoundData(i,t.sFieldBoundary,l)));c.push(f.join(t.sFieldSeperator))}if(s=u.aiDisplay,h=this.fnGetSelected(),"none"!==this.s.select.type&&e&&0!==h.length)for(s=[],r=0,o=h.length;r<o;r++)s.push(u.oInstance.fnGetPosition(h[r]));for(e=0,h=s.length;e<h;e++){for(a=u.aoData[s[e]].nTr,f=[],r=0,o=u.aoColumns.length;r<o;r++)v[r]&&(i=u.oApi._fnGetCellData(u,s[e],r,"display"),t.fnCellRender?i=t.fnCellRender(i,r,a,s[e])+"":"string"==typeof i?(i=i.replace(/\n/g," "),i=i.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3"),i=i.replace(/<.*?>/g,"")):i+="",i=i.replace(/^\s+/,"").replace(/\s+$/,""),i=this._fnHtmlDecode(i),f.push(this._fnBoundData(i,t.sFieldBoundary,l)));c.push(f.join(t.sFieldSeperator)),t.bOpenRows&&(r=n.grep(u.aoOpenRows,function(n){return n.nParent===a}),1===r.length&&(i=this._fnBoundData(n("td",r[0].nTr).html(),t.sFieldBoundary,l),c.push(i)))}if(t.bFooter&&null!==u.nTFoot){for(f=[],r=0,o=u.aoColumns.length;r<o;r++)v[r]&&null!==u.aoColumns[r].nTf&&(i=u.aoColumns[r].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),i=this._fnHtmlDecode(i),f.push(this._fnBoundData(i,t.sFieldBoundary,l)));c.push(f.join(t.sFieldSeperator))}return _sLastData=c.join(this._fnNewline(t))},_fnBoundData:function(n,t,i){return""===t?n:t+n.replace(i,t+t)+t},_fnChunkData:function(n,t){for(var r=[],u=n.length,i=0;i<u;i+=t)i+t<u?r.push(n.substring(i,i+t)):r.push(n.substring(i,u));return r},_fnHtmlDecode:function(n){if(-1===n.indexOf("&"))return n;var t=r.createElement("div");return n.replace(/&([^\s]*);/g,function(n,i){return"#"===n.substr(1,1)?String.fromCharCode(Number(i.substr(1))):(t.innerHTML=n,t.childNodes[0].nodeValue)})},_fnPrintStart:function(i){var s=this,u=this.s.dt,o,f,e,h;this._fnPrintHideNodes(u.nTable),this.s.print.saveStart=u._iDisplayStart,this.s.print.saveLength=u._iDisplayLength,i.bShowAll&&(u._iDisplayStart=0,u._iDisplayLength=-1,u.oApi._fnCalculateEnd(u),u.oApi._fnDraw(u)),(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(this._fnPrintScrollStart(u),n(this.s.dt.nTable).bind("draw.DTTT_Print",function(){s._fnPrintScrollStart(u)})),o=u.aanFeatures;for(f in o)if("i"!=f&&"t"!=f&&1==f.length)for(e=0,h=o[f].length;e<h;e++)this.dom.print.hidden.push({node:o[f][e],display:"block"}),o[f][e].style.display="none";n(r.body).addClass(this.classes.print.body),""!==i.sInfo&&this.fnInfo(i.sInfo,3e3),i.sMessage&&(this.dom.print.message=r.createElement("div"),this.dom.print.message.className=this.classes.print.message,this.dom.print.message.innerHTML=i.sMessage,r.body.insertBefore(this.dom.print.message,r.body.childNodes[0])),this.s.print.saveScroll=n(t).scrollTop(),t.scrollTo(0,0),n(r).bind("keydown.DTTT",function(n){n.keyCode==27&&(n.preventDefault(),s._fnPrintEnd.call(s,n))})},_fnPrintEnd:function(){var i=this.s.dt,f=this.s.print,u=this.dom.print;this._fnPrintShowNodes(),(""!==i.oScroll.sX||""!==i.oScroll.sY)&&(n(this.s.dt.nTable).unbind("draw.DTTT_Print"),this._fnPrintScrollEnd()),t.scrollTo(0,f.saveScroll),null!==u.message&&(r.body.removeChild(u.message),u.message=null),n(r.body).removeClass("DTTT_Print"),i._iDisplayStart=f.saveStart,i._iDisplayLength=f.saveLength,i.oApi._fnCalculateEnd(i),i.oApi._fnDraw(i),n(r).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var t=this.s.dt,r,i;t.nScrollHead.getElementsByTagName("div")[0].getElementsByTagName("table"),r=t.nTable.parentNode,i=t.nTable.getElementsByTagName("thead"),0<i.length&&t.nTable.removeChild(i[0]),null!==t.nTFoot&&(i=t.nTable.getElementsByTagName("tfoot"),0<i.length&&t.nTable.removeChild(i[0])),i=t.nTHead.cloneNode(!0),t.nTable.insertBefore(i,t.nTable.childNodes[0]),null!==t.nTFoot&&(i=t.nTFoot.cloneNode(!0),t.nTable.insertBefore(i,t.nTable.childNodes[1])),""!==t.oScroll.sX&&(t.nTable.style.width=n(t.nTable).outerWidth()+"px",r.style.width=n(t.nTable).outerWidth()+"px",r.style.overflow="visible"),""!==t.oScroll.sY&&(r.style.height=n(t.nTable).outerHeight()+"px",r.style.overflow="visible")},_fnPrintScrollEnd:function(){var n=this.s.dt,t=n.nTable.parentNode;""!==n.oScroll.sX&&(t.style.width=n.oApi._fnStringToCss(n.oScroll.sX),t.style.overflow="auto"),""!==n.oScroll.sY&&(t.style.height=n.oApi._fnStringToCss(n.oScroll.sY),t.style.overflow="auto")},_fnPrintShowNodes:function(){for(var n=this.dom.print.hidden,t=0,i=n.length;t<i;t++)n[t].node.style.display=n[t].display;n.splice(0,n.length)},_fnPrintHideNodes:function(t){for(var u,e=this.dom.print.hidden,f=t.parentNode,r=f.childNodes,i=0,o=r.length;i<o;i++)r[i]!=t&&1==r[i].nodeType&&(u=n(r[i]).css("display"),"none"!=u&&(e.push({node:r[i],display:u}),r[i].style.display="none"));"BODY"!=f.nodeName&&this._fnPrintHideNodes(f)}},TableTools._aInstances=[],TableTools._aListeners=[],TableTools.fnGetMasters=function(){for(var t=[],n=0,i=TableTools._aInstances.length;n<i;n++)TableTools._aInstances[n].s.master&&t.push(TableTools._aInstances[n]);return t},TableTools.fnGetInstance=function(n){"object"!=typeof n&&(n=r.getElementById(n));for(var t=0,i=TableTools._aInstances.length;t<i;t++)if(TableTools._aInstances[t].s.master&&TableTools._aInstances[t].dom.table==n)return TableTools._aInstances[t];return null},TableTools._fnEventListen=function(n,t,i){TableTools._aListeners.push({that:n,type:t,fn:i})},TableTools._fnEventDispatch=function(n,t,i,r){for(var f=TableTools._aListeners,u=0,e=f.length;u<e;u++)n.dom.table==f[u].that.dom.table&&f[u].type==t&&f[u].fn(i,r)},TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",mColumns:"all",bHeader:!0,bFooter:!0,bOpenRows:!1,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},TableTools.BUTTONS={csv:n.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(n,t,i){this.fnSetText(i,this.fnGetTableData(t))}}),xls:n.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(n,t,i){this.fnSetText(i,this.fnGetTableData(t))}}),copy:n.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(n,t,i){this.fnSetText(i,this.fnGetTableData(t))},fnComplete:function(n,t,i,r){n=r.split("\n").length,n=null===this.s.dt.nTFoot?n-1:n-2,this.fnInfo("<h6>Table copied</h6><p>Copied "+n+" row"+(1==n?"":"s")+" to the clipboard.</p>",1500)}}),pdf:n.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(n,t,i){this.fnSetText(i,"title:"+this.fnGetTitle(t)+"\nmessage:"+t.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(t)+"\norientation:"+t.sPdfOrientation+"\nsize:"+t.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(t))}}),print:n.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.",sMessage:null,bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(n,t){this.fnPrint(!0,t)}}),text:n.extend({},TableTools.buttonBase),select:n.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){0!==this.fnGetSelected().length?n(t).removeClass(this.classes.buttons.disabled):n(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){n(t).addClass(this.classes.buttons.disabled)}}),select_single:n.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){1==this.fnGetSelected().length?n(t).removeClass(this.classes.buttons.disabled):n(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){n(t).addClass(this.classes.buttons.disabled)}}),select_all:n.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(){this.fnSelectAll()},fnSelect:function(t){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?n(t).addClass(this.classes.buttons.disabled):n(t).removeClass(this.classes.buttons.disabled)}}),select_none:n.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(){this.fnSelectNone()},fnSelect:function(t){0!==this.fnGetSelected().length?n(t).removeClass(this.classes.buttons.disabled):n(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){n(t).addClass(this.classes.buttons.disabled)}}),ajax:n.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(t,i){var r=this.fnGetTableData(i);n.ajax({url:i.sAjaxUrl,data:[{name:"tableData",value:r}],success:i.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(){alert("Ajax complete")}}),div:n.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:n.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(n,t){this._fnCollectionShow(n,t)}})},TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}},TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}},TableTools.DEFAULTS={sSwfPath:"media/swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}},TableTools.prototype.CLASS="TableTools",TableTools.VERSION="2.1.4",TableTools.prototype.VERSION=TableTools.VERSION,"function"==typeof n.fn.dataTable&&"function"==typeof n.fn.dataTableExt.fnVersionCheck&&n.fn.dataTableExt.fnVersionCheck("1.9.0")?n.fn.dataTableExt.aoFeatures.push({fnInit:function(n){return n=new TableTools(n.oInstance,"undefined"!=typeof n.oInit.oTableTools?n.oInit.oTableTools:{}),TableTools._aInstances.push(n),n.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download"),n.fn.DataTable.TableTools=TableTools}(jQuery,window,document),function(n){function u(n,t){return t===undefined?t=typeof n=="boolean"?{show:n}:n:t.show=n,t&&(t.img||t.element)&&!t.pulse&&(t.pulse=!1),t&&t.onAjax!==undefined&&t.show===undefined&&(t.show=!1),t}function i(n,t){var i=n.css(t);return i=="auto"?0:parseFloat(i,10)}var t=n.loading=function(t,i){return n("body").loading(t,i,!0)},r;n.fn.loading=function(i,r,f){r=u(i,r);var e=f?n.extend(!0,{},t,t.pageOptions):t;return this.each(function(){var u=n(this),i=n.extend(!0,{},e,n.metadata?u.metadata():null,r);typeof i.onAjax=="boolean"?t.setAjax.call(u,i):t.toggle.call(u,i)})},r={position:n.browser.msie?"absolute":"fixed"},n.extend(t,{version:"1.4",align:"top-left",pulse:"working error",mask:!1,img:null,element:null,text:"Loading...",onAjax:undefined,classname:"loading",imgClass:"loading-img",elementClass:"loading-element",maskClass:"loading-mask",css:{position:"absolute",whiteSpace:"nowrap",zIndex:1001},maskCss:{position:"absolute",opacity:.15,background:"#333",zIndex:101,display:"block",cursor:"wait"},cloneEvents:!0,pageOptions:{page:!0,align:"top-center",css:r,maskCss:r},html:"<div></div>",maskHtml:"<div></div>",maskedClass:"loading-masked",maskEvents:"mousedown mouseup keydown keypress",resizeEvents:"resize",working:{time:1e4,text:"Still working...",run:function(n){var t=n.working,i=this;t.timeout=setTimeout(function(){i.height("auto").width("auto").text(n.text=t.text),n.place.call(i,n)},t.time)}},error:{time:1e5,text:"Task may have failed...",classname:"loading-error",run:function(n){var t=n.error,i=this;t.timeout=setTimeout(function(){i.height("auto").width("auto").text(n.text=t.text).addClass(t.classname),n.place.call(i,n)},t.time)}},fade:{time:800,speed:"slow",run:function(n){var t=n.fade,i=t.speed,r=this;t.interval=setInterval(function(){r.fadeOut(i).fadeIn(i)},t.time)}},ellipsis:{time:300,run:function(n){function r(n){var t=n.indexOf(".");return t<0?n.length:t}var i=n.ellipsis,t=this;i.interval=setInterval(function(){var f=t.text(),u=n.text,i=r(u);t.text(f.length-i<3?f+".":u.substring(0,i))},i.time)}},type:{time:100,run:function(n){var i=n.type,t=this;i.interval=setInterval(function(){var u=t.text(),r=u.length,i=n.text;t.text(r==i.length?i.charAt(0):i.substring(0,r+1))},i.time)}},toggle:function(n){var t=this.data("loading");t?n.show!==!0&&t.off.call(this,t,n):n.show!==!1&&n.on.call(this,n)},setAjax:function(n){if(n.onAjax){var i=this,t=n.ajax={count:0};t.start=function(){t.count++<1&&n.on.call(i,n)},t.stop=function(){--t.count<1&&n.off.call(i,n,n)},this.bind("ajaxStart.loading",t.start).bind("ajaxStop.loading",t.stop)}else this.unbind("ajaxStart.loading").unbind("ajaxStop.loading")},on:function(n){n.parent=this,n.mask&&(n.mask=n.createMask.call(this,n)),n.display=n.create.call(this,n),n.img?n.initImg.call(this,n):n.element?n.initElement.call(this,n):n.init.call(this,n),this.trigger("loadingStart",[n])},initImg:function(t){var i=this;t.img=n('<img src="'+t.img+'"/>').bind("load",function(){t.init.call(i,t)}),t.display.addClass(t.imgClass).append(t.img)},initElement:function(t){t.element=n(t.element).clone(t.cloneEvents).show(),t.display.addClass(t.elementClass).append(t.element),t.init.call(this,t)},init:function(n){n.place.call(n.display,n),this.data("loading",n),n.pulse&&n.initPulse.call(this,n)},initPulse:function(t){n.each(t.pulse.split(" "),function(){t[this].run.call(t.display,t)})},create:function(t){var i=n(t.html).addClass(t.classname).css(t.css).appendTo(this);return!t.text||t.img||t.element||i.text(t.text),n(window).bind(t.resizeEvents,t.resizer=function(){t.resize(t)}),i},resize:function(n){n.parent.box=null,n.mask&&n.mask.hide(),n.place.call(n.display.hide(),n),n.mask&&n.mask.show().css(n.parent.box)},createMask:function(t){var i=t.measure.call(this.addClass(t.maskedClass),t);return t.handler=function(n){return t.maskHandler(n,t)},n(document).bind(t.maskEvents,t.handler),n(t.maskHtml).addClass(t.maskClass).css(i).css(t.maskCss).appendTo(this)},maskHandler:function(t,i){var r=n(t.target).parents().andSelf();return r.filter("."+i.classname).length!=0?!0:!i.page&&r.filter("."+i.maskedClass).length==0},place:function(t){var i=t.align,u="top",r="left",f;typeof i=="object"?i=n.extend(t.calc.call(this,u,r,t),i):(i!="top-left"&&(f=i.split("-"),f.length==1?u=r=f[0]:(u=f[0],r=f[1])),this.hasClass(u)||this.addClass(u),this.hasClass(r)||this.addClass(r),i=t.calc.call(this,u,r,t)),this.show().css(t.box=i)},calc:function(t,r,u){var e=n.extend({},u.measure.call(u.parent,u)),o=n.boxModel?this.height():this.innerHeight(),s=n.boxModel?this.width():this.innerWidth(),f;return t!="top"&&(f=e.height-o,t=="center"?f/=2:t!="bottom"?f=0:n.boxModel&&(f-=i(this,"paddingTop")+i(this,"paddingBottom")),e.top+=f),r!="left"&&(f=e.width-s,r=="center"?f/=2:r!="right"?f=0:n.boxModel&&(f-=i(this,"paddingLeft")+i(this,"paddingRight")),e.left+=f),e.height=o,e.width=s,e},measure:function(n){return this.box||(this.box=n.page?n.pageBox(n):n.elementBox(this,n))},elementBox:function(n){var r=n.position();return r.top+=i(n,"marginTop"),r.left+=i(n,"marginLeft"),r.height=n.outerHeight(),r.width=n.outerWidth(),r},pageBox:function(t){var i=document,u=i.body,r=n.boxModel&&t.css.position!="fixed",e=r?n(i).height():u.clientHeight,f=r?n(i).width():u.clientWidth;return{top:0,left:0,height:e,width:f}},off:function(t,i){this.data("loading",null),t.pulse&&t.stopPulse.call(this,t,i),t.mask&&t.stopMask.call(this,t,i),n(window).unbind(t.resizeEvents,t.resizer),t.display.remove(),t.parent.trigger("loadingEnd",[t])},stopPulse:function(t,i){n.each(t.pulse.split(" "),function(){var n=t[this];n.end&&n.end.call(i.display,t,i),n.interval&&clearInterval(n.interval),n.timeout&&clearTimeout(n.timeout)})},stopMask:function(t,i){this.removeClass(i.maskedClass),n(document).unbind(t.maskEvents,t.handler),t.mask.remove()}}),t.onAjax=function(t){n.loading(n.extend({onAjax:!0},t))}}(jQuery),function(n){function i(t){var r=n(t).attr("href").match(/#.+/),i;return!r||(i=n(r[0])),i}function r(n){n.appendTo(document.body).data("width",n.outerWidth()).data("height",n.outerHeight()).css({position:"absolute",zIndex:"9998",display:"none"}).find("a[rel=close]").click(function(t){t.preventDefault(),n.trigger("hide")}).end().data("init",!0)}function t(t){var i,f,u,o,e,c;t.type=="click"&&t.preventDefault(),i=t.data.options,f=n(t.data.target),!i.customTooltipCache&&f.data("$tooltip")&&(f.data("$tooltip").remove(),f.data("$tooltip",!1)),f.data("$tooltip")||f.data("$tooltip",n(i.customTooltip(f.get(0)))),u=f.data("$tooltip"),u.data("init")||r(u);var l=n(window).width(),a=n(window).height(),h=n(window).scrollTop(),s=n(window).scrollLeft();u.unbind("show").unbind("hide"),i.showEffect&&i.showEffect.match(/^fadeIn|slideDown|show$/)?u.bind("show",function(){u[i.showEffect](200),i.showCallback(f[0],this)}):u.bind("show",function(){u.show(),i.showCallback(f[0],this)}),i.hideEffect&&i.hideEffect.match(/^fadeOut|slideUp|hide$/)?u.bind("hide",function(){i.hideCallback(f[0],this),u[i.hideEffect](200)}):u.bind("hide",function(){i.hideCallback(f[0],this),u.hide()}),o=t.pageX-u.data("width")/2,e=t.pageY-u.data("height")/2,o<s+i.margin?o=s+i.margin:o+u.data("width")>s+l-i.margin&&(o=s+l-u.data("width")-i.margin),e<h+i.margin?e=h+i.margin:e+u.data("height")>h+a-i.margin&&(e=h+a-u.data("height")-i.margin),i.hideDelay>0&&i.hideOnLeave?u.hover(function(){window.clearTimeout(c)},function(){c=window.setTimeout(function(){u.trigger("hide").unbind("mouseenter, mouseleave")},i.hideDelay*1e3)}):i.hideOnLeave&&u.bind("mouseleave",function(){u.trigger("hide").unbind("mouseleave")}),u.css({left:o+"px",top:e+"px"}).trigger("show")}n.fn.simpletooltip=function(r){var u=n.extend({hideOnLeave:!0,margin:5,showEffect:!1,hideEffect:!1,click:!1,hideDelay:0,showDelay:.1,showCallback:function(){},hideCallback:function(){},customTooltip:!1,customTooltipCache:!0},r);return this.each(function(){if(n.isFunction(u.customTooltip)||n(this).data("$tooltip",i(this).hide()),u.click)n(this).bind("click",{options:u,target:this},t);else{var r;n(this).bind("mouseenter",{options:u,target:this},function(n){var i=n;r=window.setTimeout(function(){t(i)},u.showDelay*1e3)}).bind("mouseleave",function(){window.clearTimeout(r)})}}),this}}(jQuery);
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.4
 * 
 * Requires: 1.2.2+
 */
(function(n){function i(t){var i=t||window.event,e=[].slice.call(arguments,1),r=0,o=!0,f=0,u=0;return t=n.event.fix(i),t.type="mousewheel",t.wheelDelta&&(r=t.wheelDelta/120),t.detail&&(r=-t.detail/3),u=r,i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS&&(u=0,f=-1*r),i.wheelDeltaY!==undefined&&(u=i.wheelDeltaY/120),i.wheelDeltaX!==undefined&&(f=i.wheelDeltaX/-120),e.unshift(t,r,f,u),n.event.handle.apply(this,e)}var t=["DOMMouseScroll","mousewheel"];n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=t.length;n;)this.addEventListener(t[--n],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var n=t.length;n;)this.removeEventListener(t[--n],i,!1);else this.onmousewheel=null}},n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})})(jQuery),function(n){n.jScrollPane={active:[]},n.fn.jScrollPane=function(t){t=n.extend({},n.fn.jScrollPane.defaults,t);var i=function(){return!1};return this.each(function(){var r=n(this),ui=this,fi=0,d,u,v,pt=t.topCapHeight,f,rt,a,dt,st,hi,gt,bt,it,ni,nt,ot,kt,b,h,lt,w;n(this).parent().is(".jScrollPaneContainer")?(f=n(this).parent(),fi=t.maintainPosition?r.position().top:0,rt=n(this).parent(),d=rt.innerWidth(),u=rt.outerHeight(),n(">.jScrollPaneTrack, >.jScrollArrowUp, >.jScrollArrowDown, >.jScrollCap",rt).remove(),r.css({top:0})):(r.data("originalStyleTag",r.attr("style")),r.css("overflow","hidden"),this.originalPadding=r.css("paddingTop")+" "+r.css("paddingRight")+" "+r.css("paddingBottom")+" "+r.css("paddingLeft"),this.originalSidePaddingTotal=(parseInt(r.css("paddingLeft"))||0)+(parseInt(r.css("paddingRight"))||0),d=r.innerWidth(),u=r.innerHeight(),f=n("<div></div>").attr({className:"jScrollPaneContainer"}).css({height:u+"px",width:d+"px"}),t.enableKeyboardNavigation&&f.attr("tabindex",t.tabIndex),r.wrap(f),f=r.parent(),n(document).bind("emchange",function(){r.jScrollPane(t)})),v=u,t.reinitialiseOnImageLoad&&(a=n.data(ui,"jScrollPaneImagesToLoad")||n("img",r),dt=[],a.length&&a.each(function(i,u){n(this).bind("load readystatechange",function(){if(n.inArray(i,dt)==-1){dt.push(u),a=n.grep(a,function(n){return n!=u}),n.data(ui,"jScrollPaneImagesToLoad",a);var f=n.extend(t,{reinitialiseOnImageLoad:!1});r.jScrollPane(f)}}).each(function(){(this.complete||this.complete===undefined)&&(this.src=this.src)})}));var di=this.originalSidePaddingTotal,gi=d-t.scrollbarWidth-t.scrollbarMargin-di,ii={height:"auto",width:gi+"px"};t.scrollbarOnLeft?ii.paddingLeft=t.scrollbarMargin+t.scrollbarWidth+"px":ii.paddingRight=t.scrollbarMargin+"px",r.css(ii);var g=r.outerHeight(),at=u/g,si=at<.99;if(f[si?"addClass":"removeClass"]("jScrollPaneScrollable"),si){f.append(n("<div></div>").addClass("jScrollCap jScrollCapTop").css({height:t.topCapHeight}),n("<div></div>").attr({className:"jScrollPaneTrack"}).css({width:t.scrollbarWidth+"px"}).append(n("<div></div>").attr({className:"jScrollPaneDrag"}).css({width:t.scrollbarWidth+"px"}).append(n("<div></div>").attr({className:"jScrollPaneDragTop"}).css({width:t.scrollbarWidth+"px"}),n("<div></div>").attr({className:"jScrollPaneDragBottom"}).css({width:t.scrollbarWidth+"px"}))),n("<div></div>").addClass("jScrollCap jScrollCapBottom").css({height:t.bottomCapHeight}));var ci=n(">.jScrollPaneTrack",f),ct=n(">.jScrollPaneTrack .jScrollPaneDrag",f),p,l=[],c,y=function(){(c>4||c%4==0)&&o(e+p*ti),c++};t.enableKeyboardNavigation&&f.bind("keydown.jscrollpane",function(n){switch(n.keyCode){case 38:return p=-1,c=0,y(),l[l.length]=setInterval(y,100),!1;case 40:return p=1,c=0,y(),l[l.length]=setInterval(y,100),!1;case 33:case 34:return!1}}).bind("keyup.jscrollpane",function(n){if(n.keyCode==38||n.keyCode==40){for(var t=0;t<l.length;t++)clearInterval(l[t]);return!1}}),t.showArrows&&(gt=function(){n("html").unbind("mouseup",gt),st.removeClass("jScrollActiveArrowButton"),clearInterval(hi)},bt=function(){n("html").bind("mouseup",gt),st.addClass("jScrollActiveArrowButton"),c=0,y(),hi=setInterval(y,100)},f.append(n("<a></a>").attr({href:"javascript:;",className:"jScrollArrowUp",tabindex:-1}).css({width:t.scrollbarWidth+"px",top:t.topCapHeight+"px"}).html("Scroll up").bind("mousedown",function(){return st=n(this),p=-1,bt(),this.blur(),!1}).bind("click",i),n("<a></a>").attr({href:"javascript:;",className:"jScrollArrowDown",tabindex:-1}).css({width:t.scrollbarWidth+"px",bottom:t.bottomCapHeight+"px"}).html("Scroll down").bind("mousedown",function(){return st=n(this),p=1,bt(),this.blur(),!1}).bind("click",i)),it=n(">.jScrollArrowUp",f),ni=n(">.jScrollArrowDown",f)),t.arrowSize?(v=u-t.arrowSize-t.arrowSize,pt+=t.arrowSize):it&&(nt=it.height(),t.arrowSize=nt,v=u-nt-ni.height(),pt+=nt),v-=t.topCapHeight+t.bottomCapHeight,ci.css({height:v+"px",top:pt+"px"});var vt=n(this).css({position:"absolute",overflow:"visible"}),k,s,ti,e=0,ht=at*u/2,ut=function(n,t){var i=t=="X"?"Left":"Top";return n["page"+t]||n["client"+t]+(document.documentElement["scroll"+i]||document.body["scroll"+i])||0},ft=function(){return!1},et=function(){b(),k=ct.offset(!1),k.top-=e,s=v-ct[0].offsetHeight,ti=2*t.wheelSpeed*s/g},ki=function(t){return et(),ht=ut(t,"Y")-e-k.top,n("html").bind("mouseup",wt).bind("mousemove",vi).bind("mouseleave",wt),n.browser.msie&&n("html").bind("dragstart",ft).bind("selectstart",ft),!1},wt=function(){n("html").unbind("mouseup",wt).unbind("mousemove",vi),ht=at*u/2,n.browser.msie&&n("html").unbind("dragstart",ft).unbind("selectstart",ft)},o=function(n){f.scrollTop(0),n=n<0?0:n>s?s:n,e=n,ct.css({top:n+"px"});var i=n/s;r.data("jScrollPanePosition",(u-g)*-i),vt.css({top:(u-g)*i+"px"}),r.trigger("scroll"),t.showArrows&&(it[n==0?"addClass":"removeClass"]("disabled"),ni[n==s?"addClass":"removeClass"]("disabled"))},vi=function(n){o(ut(n,"Y")-k.top-ht)},ir=Math.max(Math.min(at*(u-t.arrowSize*2),t.dragMaxHeight),t.dragMinHeight);ct.css({height:ir+"px"}).bind("mousedown",ki);var ai,tt,oi,ri=function(){(tt>8||tt%4==0)&&o(e-(e-oi)/2),tt++},ei=function(){clearInterval(ai),n("html").unbind("mouseup",ei).unbind("mousemove",yt)},yt=function(n){oi=ut(n,"Y")-k.top-ht},tr=function(t){return et(),yt(t),tt=0,n("html").bind("mouseup",ei).bind("mousemove",yt),ai=setInterval(ri,100),ri(),!1};ci.bind("mousedown",tr),f.bind("mousewheel",function(n,t){var r,i;return t=t||(n.wheelDelta?n.wheelDelta/120:n.detail?-n.detail/3:0),et(),b(),r=e,o(e-t*ti),i=r!=e,!i});function nr(){var n=(ot-e)/t.animateStep;n>1||n<-1?o(e+n):(o(ot),b())}b=function(){kt&&(clearInterval(kt),delete ot)},h=function(i,e){var h,c;if(typeof i=="string"){try{$e=n(i,r)}catch(l){return}if(!$e.length)return;i=$e.offset().top-r.offset().top}b(),h=g-u,i=i>h?h:i,r.data("jScrollPaneMaxScroll",h),c=i/h*s,e||!t.animateTo?o(c):(f.scrollTop(0),ot=c,kt=setInterval(nr,t.animateInterval))},r[0].scrollTo=h,r[0].scrollBy=function(n){var t=-parseInt(vt.css("top"))||0;h(t+n)},et(),h(-fi,!0),n("*",this).bind("focus",function(){for(var e=n(this),f=0,c=100,s;e[0]!=r[0];)if(f+=e.position().top,e=e.offsetParent(),!c--)return;var o=-parseInt(vt.css("top"))||0,a=o+u,l=f>o&&f<a;l||(s=f-t.scrollbarMargin,f>o&&(s+=n(this).height()+15+t.scrollbarMargin-u),h(s))}),t.observeHash&&(location.hash&&location.hash.length>1&&setTimeout(function(){h(location.hash)},n.browser.safari?100:0),n(document).bind("click",function(i){if($target=n(i.target),$target.is("a")){var r=$target.attr("href");r&&r.substr(0,1)=="#"&&r.length>1&&setTimeout(function(){h(r,!t.animateToInternalLinks)},n.browser.safari?100:0)}}));function bi(){n(document).bind("mousemove.jScrollPaneDragging",wi),n(document).bind("mouseup.jScrollPaneDragging",pi)}function yi(){direction=lt<0?-1:1,r[0].scrollBy(lt/2)}function li(){w&&(clearInterval(w),w=undefined)}function wi(n){var i=r.parent().offset().top,f=i+u,t=ut(n,"Y");lt=t<i?t-i:t>f?t-f:0,lt==0?li():w||(w=setInterval(yi,100))}function pi(){n(document).unbind("mousemove.jScrollPaneDragging").unbind("mouseup.jScrollPaneDragging"),li()}f.bind("mousedown.jScrollPane",bi),n.jScrollPane.active.push(r[0])}else r.css({height:u+"px",width:d-this.originalSidePaddingTotal+"px",padding:this.originalPadding}),r[0].scrollTo=r[0].scrollBy=function(){},r.parent().unbind("mousewheel").unbind("mousedown.jScrollPane").unbind("keydown.jscrollpane").unbind("keyup.jscrollpane")})},n.fn.jScrollPaneRemove=function(){n(this).each(function(){$this=n(this);var t=$this.parent();t.is(".jScrollPaneContainer")&&($this.css({top:"",height:"",width:"",padding:"",overflow:"",position:""}),$this.attr("style",$this.data("originalStyleTag")),t.after($this).remove())})},n.fn.jScrollPane.defaults={scrollbarWidth:10,scrollbarMargin:5,wheelSpeed:18,showArrows:!1,arrowSize:0,animateTo:!1,dragMinHeight:1,dragMaxHeight:99999,animateInterval:100,animateStep:3,maintainPosition:!0,scrollbarOnLeft:!1,reinitialiseOnImageLoad:!1,tabIndex:0,enableKeyboardNavigation:!0,animateToInternalLinks:!1,topCapHeight:0,bottomCapHeight:0,observeHash:!0},n(window).bind("unload",function(){for(var i=n.jScrollPane.active,t=0;t<i.length;t++)i[t].scrollTo=i[t].scrollBy=null})}(jQuery),$.fn.extend({everyTime:function(n,t,i,r,u){return this.each(function(){$.timer.add(this,n,t,i,r,u)})},oneTime:function(n,t,i){return this.each(function(){$.timer.add(this,n,t,i,1)})},stopTime:function(n,t){return this.each(function(){$.timer.remove(this,n,t)})}}),$.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(n){if(n==undefined||n==null)return null;var t=this.regex.exec($.trim(n.toString()));return t[2]?parseInt(t[1],10)*(this.powers[t[2]]||1):n},add:function(n,t,i,r,u,f){var o=0,e;$.isFunction(i)&&(u||(u=r),r=i,i=t),t=$.timer.timeParse(t),typeof t!="number"||isNaN(t)||t<=0||(u&&u.constructor!=Number&&(f=!!u,u=0),u=u||0,f=f||!1,n.$timers||(n.$timers={}),n.$timers[i]||(n.$timers[i]={}),r.$timerID=r.$timerID||this.guid++,e=function(){f&&this.inProgress||(this.inProgress=!0,(++o>u&&u!==0||r.call(n,o)===!1)&&$.timer.remove(n,i,r),this.inProgress=!1)},e.$timerID=r.$timerID,n.$timers[i][r.$timerID]||(n.$timers[i][r.$timerID]=window.setInterval(e,t)),this.global[i]||(this.global[i]=[]),this.global[i].push(n))},remove:function(n,t,i){var r=n.$timers,u;if(r){if(t){if(r[t]){if(i)i.$timerID&&(window.clearInterval(r[t][i.$timerID]),delete r[t][i.$timerID]);else for(i in r[t])window.clearInterval(r[t][i]),delete r[t][i];for(u in r[t])break;u||(u=null,delete r[t])}}else for(t in r)this.remove(n,t,i);for(u in r)break;u||(n.$timers=null)}}}}),$.browser.msie&&$(window).one("unload",function(){var r=$.timer.global,i,n,t;for(i in r)for(n=r[i],t=n.length;--t;)$.timer.remove(n[t],i)}),eval(function(n,t,i,r,u,f){if(u=function(n){return(n<t?"":u(parseInt(n/t)))+((n=n%t)>35?String.fromCharCode(n+29):n.toString(36))},!"".replace(/^/,String)){while(i--)f[u(i)]=r[i]||u(i);r=[function(n){return f[n]}],u=function(){return"\\w+"},i=1}while(i--)r[i]&&(n=n.replace(new RegExp("\\b"+u(i)+"\\b","g"),r[i]));return n}("(8($){7 E={1e:8(){$(5).1D('>a').X(8(){3(5.1L){1K.24=5.1L}})},1k:'',1x:2u,1t:10};$.1f.L=8(f){7 g=K;7 h=(($.13.1n)?4:2);7 k=$.1y({},E,f);7 l=8(a,b){3(a.F&&!a.J){Y(a.F)}R 3(a.F){9}3(a.J){a.F=1M(8(){$(A(z(a,'U'),'W')).S('1d',s).S('1p',u).S('1b',k.1e);$(a).1H();a.J=K;a.F=N},b)}};7 m=8(b,c){3(b.F){Y(b.F)}3(!b.J){b.F=1M(8(){3(!C(b.H,'I')){9}$(A(z(b,'U'),'W')).1d(s).1p(u).1b(k.1e);3(!C(b.H,'1E')){$(b).17('1C',b.H.1o-h)}b.J=V;$(b).20();3($.13.1n){7 a=$(z(b,'U')).18();3(a<1w){a=1w}$(b).17('18',a)}b.F=N},c)}};7 o=8(e){7 p=(e.2o==\"1d\"?e.2m:e.1N)||e.1P;2h(p&&p!=5){2f{p=p.H}2c(e){p=5}}3(p==5){9 K}9 V};7 q=8(e){7 a=A(5.H,'W');7 b=1u 1v(\"(^|\\\\s)I(\\\\s|$)\");P(7 i=0;i<a.1s;i++){3(b.1r(a[i].1q)){$(a[i]).Q('I')}}$(5).O('I');3(g){t(5,k.1t)}};7 s=8(e){3(!o(e)){9 K}3(e.T!=5){3(!D(5,e.T)){9}}t(5,k.1x)};7 t=8(a,b){7 c=z(a,'M');7 n=a.H.1c;P(;n;n=n.19){3(n.15==1&&n.11.14()=='W'){7 d=z(n,'M');3(d&&d.F&&!d.J){Y(d.F);d.F=N}}}7 e=a.H;P(;e;e=e.H){3(e.15==1&&e.11.14()=='M'){3(e.F){Y(e.F);e.F=N;$(e.H).O('I')}}}$(a).O('I');3(c&&c.J){3(c.F){Y(c.F);c.F=N}R{9}}$(a.H.1I('M')).X(8(){3(5!=c&&5.J){l(5,b);$(5.H).Q('I')}});3(c){m(c,b)}};7 u=8(e){3(!o(e)){9 K}3(e.T!=5){3(!D(5,e.T)){9}}7 a=z(5,'M');3(!a){$(5).Q('I')}R{3(!a.J){$(5).Q('I')}}};7 v=8(e){7 a=z(5,'M');7 b=e.1P||e.1N;7 p;3(!g){$(5).Q('I')}R 3(!a&&b){p=B(e.T,'U','L');3(p.1a(b)){$(5).Q('I')}}R 3(b){p=B(e.T,'U','L');3(!a.J&&(p.1a(b))){$(5).Q('I')}}};7 w=8(){7 a=z(5,'M');3(a&&a.J){y();$(5).O('I')}R{t(5,k.1t);g=V;$(1J).1G('1F',x)}9 K};7 x=8(e){7 a=K;7 b=B(e.T,'U','L');3(b){$(b.1I('M')).X(8(){3(5.J){a=V}})}3(!a){y()}};7 y=8(){$('1i.L G.12').X(8(){3(5.F){Y(5.F);5.F=N}3(5.J){$(5).1H();5.J=K}});$('1i.L 1m').Q('I');$('1i.L>1m 1m').S('1d',s).S('1p',u).S('1b',k.1e);$(1J).S('1F',x);g=K};7 z=8(a,b){3(!a){9 N}7 n=a.1c;P(;n;n=n.19){3(n.15==1&&n.11.14()==b){9 n}}9 N};7 A=8(a,b){3(!a){9[]}7 r=[];7 n=a.1c;P(;n;n=n.19){3(n.15==1&&n.11.14()==b){r[r.1s]=n}}9 r};7 B=8(a,b,c){7 d=a.H;7 e=1u 1v(\"(^|\\\\s)\"+c+\"(\\\\s|$)\");P(;d;d=d.H){3(d.15==1&&d.11.14()==b&&e.1r(d.1q)){9 d}}9 N};7 C=8(a,b){7 c=1u 1v(\"(^|\\\\s)\"+b+\"(\\\\s|$)\");3(c.1r(a.1q)){9 V}9 K};7 D=8(a,b){7 n=a.1c;P(;n;n=n.19){3(n==b){9 V}}9 K};9 5.X(8(){3(1K.1g&&1g.1l&&!1g.1l.1a){1g.1l.1a=8(a){9!!(5.23(a)&16)}}3(!C(5,'L')){$(5).O('L')}$('1i',5).1B();3($.13.1n&&(!$.13.1V||22($.13.1V)<=6)){3($.1f.1A){$('G.12',5).1A()}R{$('G.12',5).21('<1Z 1z=\"1Y:1X;1h:1j;2t:0;1C:0;z-2r:-1;2q:2p();'+'18:1W(5.H.1o);1U:1W(5.H.1T)\"/>')}}$(5).1G('2n',8(){y()});7 b=A(5,'W');P(7 j=0;j<b.1s;j++){3(z(z(z(b[j],'M'),'U'),'W')){$(b[j]).1b(w)}}$(b).I(q,v).O('1E').1D('>G').O('1R');3(k.1k){$('G.1R G.12',5).1Q('<2l 2i=\"'+k.1k+'\" Z=\"2g\" />')}$(5).1O('<G Z=\"2e\"></G>').2d('<G 1z=\"2j: 2k; 2b: 2a;\"></G>')})};$.1f.L.29=8(o){$.1y(E,o)}})(1S);(8($){$.1f.1B=8(){9 5.X(8(){7 a=$('<G Z=\"12\"></G>').28(0);3($(5).17('1h')=='1j'){$(a).17({1h:'27',18:5.1o,1U:5.1T})}R{$(a).17('1h','1j')}$(5).O('26').1O(a).1Q('<G Z=\"2s\"></G><G Z=\"25\"></G><G Z=\"2v\"></G>')})}})(1S);",62,156,"|||if||this||var|function|return||||||||||||||||||||||||||||||||timer|div|parentNode|hover|isVisible|false|clickMenu|DIV|null|addClass|for|removeClass|else|unbind|target|UL|true|LI|each|clearTimeout|class||nodeName|outerbox|browser|toUpperCase|nodeType||css|width|nextSibling|contains|click|firstChild|mouseover|onClick|fn|Node|position|ul|absolute|arrowSrc|prototype|li|msie|offsetWidth|mouseout|className|test|length|mainDelay|new|RegExp|100|subDelay|extend|style|bgiframe|shadowBox|left|find|main|mousedown|bind|hide|getElementsByTagName|document|window|href|setTimeout|toElement|wrap|relatedTarget|before|inner|jQuery|offsetHeight|height|version|expression|block|display|iframe|show|append|parseInt|compareDocumentPosition|location|shadowbox2|innerBox|relative|get|setDefaults|hidden|visibility|catch|after|cmDiv|try|liArrow|while|src|clear|both|img|fromElement|closemenu|type|mask|filter|index|shadowbox1|top|300|shadowbox3".split("|"),0,{})),PortalControl=function(n){this.element=n,this._service=[],this._locktimeoutid=null,this.get_element=function(){return this.element},this.set_DataSource=function(n,t,i){var r=Exists(i)?i:this.get_element().id;Exists(this._DataSource)||(this._DataSource=[]);try{this._DataSource[r]=n,t==!0&&$.jStorage.set(r,n)}catch(u){window.log(u)}},this.get_DataSource=function(n){var t=Exists(n)?n:this.get_element().id;return Exists(this._DataSource)&&Exists(this._DataSource[t])||this.set_DataSource($.jStorage.get(t,null),!1,t),this._DataSource[t]},this.FindDataItem=function(n,t,i){(i==undefined||i==null)&&(i=myself.get_DataSource());var r=i.binarySearch(n,function(i){return i[t]-n});return r==null?null:i[r]},this._findcontrol=function(n,t){(t==undefined||t==null)&&(t=this.get_element());var i=$(t).find("#"+n)[0];return(i==undefined||i==null)&&(i=this._findASPNETcontrol(n,t)),i},this._findjcontrol=function(n,t){(t==undefined||t==null)&&(t=this.get_element());var i=$($(t).find("#"+n)[0]);return i[0]==undefined&&(i=this._findASPNETjcontrol(n,t)),i},this._findASPNETcontrol=function(n,t){return(t==undefined||t==null)&&(t=this.get_element()),$(t).find("*[id*="+n+"]")[0]},this._findASPNETjcontrol=function(n,t){return(t==undefined||t==null)&&(t=this.get_element()),$($(t).find("*[id*="+n+"]")[0])},this.hide=function(){$(this.get_element()).hide()},this.show=function(){$(this.get_element()).show()},this.get_Service=function(n){return n||(n="default"),this._service[n]},this.set_Service=function(n,t){t||(t=n,n="default"),this._service[n]=t,this._service[n].set_defaultFailedCallback(this._FailedCallback)},this.Lock=function(n){var t=this;n?this._locktimeoutid=setTimeout(function(){t.Lock()},n):$(this.get_element()).loading({align:"center",text:"Loading...",mask:!0,effect:"ellipsis update"})},this.UnLock=function(){clearTimeout(this._locktimeoutid),$(this.get_element()).loading(!1)},this.LockControl=function(n){n.loading({align:"center",text:"Loading...",mask:!0,effect:"ellipsis update"})},this.UnLockControl=function(n){n.loading(!1)},this._ResetEditor=function(n){n.find(":input").val(""),n.find(":checkbox").attr("checked",!1)},this._BindElement=function(n,t,i){var u=this,r;return i||(i=u.get_element()),r=u._findjcontrol(n,i),r.val(u.ReplaceNullWithEmptyString(t)),r},this.GetElementValue=function(n){var t=this;return t._findjcontrol(n).val()},this.ReplaceNullWithEmptyString=function(n){return n==null&&(n=""),n},this.Alert=function(n,t){var i=this;window.alertDiv==undefined&&(window.alertDiv=$("<div></div>"),window.alertDiv.dialog({modal:!0,autoOpen:!1,title:n,buttons:{Ok:function(){$(this).dialog("close")}}})),window.alertDiv.dialog("option","title",n),window.alertDiv.dialog("isOpen")?window.alertDiv.html(window.alertDiv.html()+"<br /><br />"+t):(window.alertDiv.dialog("open"),window.alertDiv.html(t))},this.Confirm=function(n,t,i,r,u){var e=this,f={};f[i]=function(){$(this).dialog("close").remove(),u()},f[r]=function(){$(this).dialog("close").remove()},$("<div></div>").html(t).dialog({modal:!0,title:n,buttons:f})},this._FailedCallback=function(n){var u=n.get_stackTrace(),f=n.get_message(),r=n.get_statusCode(),t=n.get_exceptionType(),i=n.get_timedOut();$("<div></div>").html("Service Error: "+f+"<br/>Status Code: "+r+"<br/>Exception Type: "+t+"<br/>Timedout: "+i+"<br/>Stack Trace: "+u).dialog({modal:!0,title:"ERROR!",buttons:{Ok:function(){$(this).dialog("close").remove()}}})},this.DropDownContainsText=function(n,t){for(var f=this,u=!1,r=f._findcontrol(n),i=0;i<r.options.length;i++)if(r.options[i].text==t){u=!0;break}return u},this.SetLabelText=function(n,t,i){var u=this,r;return i||(i=u.get_element()),r=u._findjcontrol(n,i),r.html(u.ReplaceNullWithEmptyString(t)),r},this._getNode=function(n,t,i){for(var f=this,u=null,r=0;r<i.length;r++)if(i[r].attributes.id==n){u=i[r];break}return u==null&&(u={attributes:{id:n},data:t,state:"closed",children:[]},i[i.length]=u),u},this.DateDeserialize=function(n){return eval("new"+n.replace(/\//g," "))},this.AsyncTrigger=function(n,t){var i=this;$(i.get_element()).oneTime(n,function(){t()})}},PortalControl.registerClass("PortalControl",Sys.Component),jQuery.fn.PortalTextbox=PortalTextboxCreator,Array.prototype.binarySearch=function(n,t){for(var u=0,f=this.length-1,i,r;u<=f;){if(i=parseInt((u+f)/2,10),r=t(this[i],n),r<0){u=i+1;continue}if(r>0){f=i-1;continue}return i}return null},Array.prototype.swap=function(n,t){var i=this[n];this[n]=this[t],this[t]=i},Array.prototype.QuickSort=function(n){(new SortFunctions).qsort(this,0,this.length,n)},window.log=function(){if(log.history=log.history||[],log.history.push(arguments),this.console){var t=arguments,n;t.callee=t.callee.caller,n=[].slice.call(t),typeof console.log=="object"?log.apply.call(console.log,console,n):console.log.apply(console,n)}},function(n){function i(){}for(var r="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),t;!!(t=r.pop());)n[t]=n[t]||i}(function(){try{return console.log(),window.console}catch(n){return window.console={}}}()),Number.prototype.formatMoney=function(n,t,i,r,u,f,e){var c,s;r==undefined&&(r="$"),u==undefined&&(u=""),f==undefined&&(f=""),e==undefined&&(e="-"),c=this,s=this,n=isNaN(n=Math.abs(n))?2:n,t=t==undefined?",":t,i=i==undefined?".":i;var l=s<0?e:"",h=parseInt(s=Math.abs(+s||0).toFixed(n))+"",o=(o=h.length)>3?o%3:0;return(c<0?u:"")+r+l+(o?h.substr(0,o)+i:"")+h.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i)+(n?t+Math.abs(s-h).toFixed(n).slice(2):"")+(c<0?f:"")},NN4=document.layers?!0:!1,IE4=document.all?!0:!1,function(n){function o(t,o,h){var l=r[t];f=n("#"+l.id).find("ul:first").clone(!0),f.css(l.menuStyle).find("li").css(l.itemStyle).hover(function(){n(this).css(l.itemHoverStyle)},function(){n(this).css(l.itemStyle)}).find("img").css({verticalAlign:"middle",paddingRight:"2px"}),i.html(f),!l.onShowMenu||(i=l.onShowMenu(h,i)),n.each(l.bindings,function(t,r){n("#"+t,i).bind("click",function(){e(),r(o,s)})}),i.css({left:h[l.eventPosX],top:h[l.eventPosY]}).show(),l.shadow&&u.css({width:i.width(),height:i.height(),left:h.pageX+2,top:h.pageY+2}).show();n(document).one("click",e)}function e(){i.hide(),u.hide()}var i,u,h,f,r,s,t={menuStyle:{listStyle:"none",padding:"1px",margin:"0px",backgroundColor:"#fff",border:"1px solid #999",width:"100px"},itemStyle:{margin:"0px",color:"#000",display:"block",cursor:"default",padding:"3px",border:"1px solid #fff",backgroundColor:"transparent"},itemHoverStyle:{border:"1px solid #0a246a",backgroundColor:"#b6bdd2"},eventPosX:"pageX",eventPosY:"pageY",shadow:!0,onContextMenu:null,onShowMenu:null};n.fn.contextMenu=function(f,e){i||(i=n('<div id="jqContextMenu"></div>').hide().css({position:"absolute",zIndex:"500"}).appendTo("body").bind("click",function(n){n.stopPropagation()})),u||(u=n("<div></div>").css({backgroundColor:"#000",position:"absolute",opacity:.2,zIndex:499}).appendTo("body").hide()),r=r||[],r.push({id:f,menuStyle:n.extend({},t.menuStyle,e.menuStyle||{}),itemStyle:n.extend({},t.itemStyle,e.itemStyle||{}),itemHoverStyle:n.extend({},t.itemHoverStyle,e.itemHoverStyle||{}),bindings:e.bindings||{},shadow:e.shadow||e.shadow===!1?e.shadow:t.shadow,onContextMenu:e.onContextMenu||t.onContextMenu,onShowMenu:e.onShowMenu||t.onShowMenu,eventPosX:e.eventPosX||t.eventPosX,eventPosY:e.eventPosY||t.eventPosY});var s=r.length-1;return n(this).bind("contextmenu",function(n){var t=!r[s].onContextMenu?!0:r[s].onContextMenu(n);return t&&o(s,this,n,e),!1}),this},n.contextMenu={defaults:function(i){n.each(i,function(i,r){typeof r=="object"&&t[i]?n.extend(t[i],r):t[i]=r})}}}(jQuery),$(function(){$("div.contextMenu").hide()});
/*!
 * jQuery Expander Plugin v1.3
 *
 * Date: Sat Sep 17 00:37:34 2011 EDT
 * Requires: jQuery v1.3+
 *
 * Copyright 2011, Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 *
 *
 *
*/
(function(n){n.expander={version:"1.3",defaults:{slicePoint:100,preserveWords:!0,widow:4,expandText:"read more",expandPrefix:"&hellip; ",summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"fadeIn",expandSpeed:250,collapseEffect:"fadeOut",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null}},n.fn.expander=function(t){function s(n,t){var r="span",i=n.summary;return t?(r="div",i=i.replace(/(<\/[^>]+>)\s*$/,n.moreLabel+"$1"),i='<div class="'+n.summaryClass+'">'+i+"</div>"):i+=n.moreLabel,[i,"<",r+' class="'+n.detailClass+'"',">",n.details,"</"+r+">"].join("")}function h(n){var t='<span class="'+n.moreClass+'">'+n.expandPrefix;return t+='<a href="#">'+n.expandText+"</a></span>"}function o(n,t){return n.lastIndexOf("<")>n.lastIndexOf(">")&&(n=n.slice(0,n.lastIndexOf("<"))),t&&(n=n.replace(y,"")),n}function e(n,t){t.stop(!0,!0)[n.collapseEffect](n.collapseSpeed,function(){t.prev("span."+n.moreClass).show().length||t.parent().children("div."+n.summaryClass).show().find("span."+n.moreClass).show()})}function a(t,i,r){t.collapseTimer&&(u=setTimeout(function(){e(t,i),n.isFunction(t.onCollapse)&&t.onCollapse.call(r,!1)},t.collapseTimer))}var r=n.extend({},n.expander.defaults,t),l=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,y=/(&(?:[^;]+;)?|\w+)$/,v=/<\/?(\w+)[^>]*>/g,i=/<(\w+)[^>]*>/g,f=/<\/(\w+)>/g,c=/^<[^>]+>.?/,u;return this.each(function(){var w,ct,k,ut,g,b,tt,ot,st=[],et=[],rt={},nt=this,p=n(this),ht=n([]),t=n.meta?n.extend({},r,p.data()):r,y;b=!!p.find("."+t.detailClass).length;var it=!!p.find("*").filter(function(){return/^block|table|list/.test(n(this).css("display"))}).length,ft=(it?"div":"span")+"."+t.detailClass,lt="span."+t.moreClass,at=t.expandSpeed||0,d=n.trim(p.html());if(n.trim(p.text()),y=d.slice(0,t.slicePoint),!n.data(this,"expander")){for(n.data(this,"expander",!0),n.each(["onSlice","beforeExpand","afterExpand","onCollapse"],function(i,r){rt[r]=n.isFunction(t[r])}),y=o(y),summTagless=y.replace(v,"").length;summTagless<t.slicePoint;)newChar=d.charAt(y.length),newChar=="<"&&(newChar=d.slice(y.length).match(c)[0]),y+=newChar,summTagless++;for(y=o(y,t.preserveWords),ut=y.match(i)||[],g=y.match(f)||[],k=[],n.each(ut,function(n,t){l.test(t)||k.push(t)}),ut=k,ct=g.length,w=0;w<ct;w++)g[w]=g[w].replace(f,"$1");if(n.each(ut,function(t,r){var f=r.replace(i,"$1"),u=n.inArray(f,g);u===-1?(st.push(r),et.push("</"+f+">")):g.splice(u,1)}),et.reverse(),b)w=p.find(ft).remove().html(),y=p.html(),d=y+w,b="";else{if(w=d.slice(y.length),w.split(/\s+/).length<t.widow&&!b)return;b=et.pop()||"",y+=et.join(""),w=st.join("")+w}t.moreLabel=p.find(lt).length?"":h(t),it&&(w=d),y+=b,t.summary=y,t.details=w,t.lastCloseTag=b,rt.onSlice&&(t=(k=t.onSlice.call(nt,t))&&k.details?k:t),it=s(t,it),p.html(it),tt=p.find(ft),ot=p.find(lt),tt.hide(),ot.find("a").unbind("click.expander").bind("click.expander",function(n){n.preventDefault(),ot.hide(),ht.hide(),rt.beforeExpand&&t.beforeExpand.call(nt),tt.stop(!1,!0)[t.expandEffect](at,function(){tt.css({zoom:""}),rt.afterExpand&&t.afterExpand.call(nt),a(t,tt,nt)})}),ht=p.find("div."+t.summaryClass),t.userCollapse&&!p.find("span."+t.lessClass).length&&p.find(ft).append('<span class="'+t.lessClass+'">'+t.userCollapsePrefix+'<a href="#">'+t.userCollapseText+"</a></span>"),p.find("span."+t.lessClass+" a").unbind("click.expander").bind("click.expander",function(i){i.preventDefault(),clearTimeout(u),i=n(this).closest(ft),e(t,i),rt.onCollapse&&t.onCollapse.call(nt,!0)})}}),this},n.fn.expander.defaults=n.expander.defaults})(jQuery),function(n){"use strict";function i(){this.controls={bold:{groupIndex:0,visible:!0,tags:["b","strong"],css:{fontWeight:"bold"},tooltip:"Bold",hotkey:{ctrl:1,key:66}},copy:{groupIndex:8,visible:!1,tooltip:"Copy"},createLink:{groupIndex:6,visible:!0,exec:function(){var i=this;n.wysiwyg.controls&&n.wysiwyg.controls.link?n.wysiwyg.controls.link.init(this):n.wysiwyg.autoload?n.wysiwyg.autoload.control("wysiwyg.link.js",function(){i.controls.createLink.exec.apply(i)}):t.error("$.wysiwyg.controls.link not defined. You need to include wysiwyg.link.js file")},tags:["a"],tooltip:"Create link"},cut:{groupIndex:8,visible:!1,tooltip:"Cut"},decreaseFontSize:{groupIndex:9,visible:!1,tags:["small"],tooltip:"Decrease font size",exec:function(){this.decreaseFontSize()}},h1:{groupIndex:7,visible:!0,className:"h1",command:n.browser.msie||n.browser.safari?"FormatBlock":"heading",arguments:n.browser.msie||n.browser.safari?"<h1>":"h1",tags:["h1"],tooltip:"Header 1"},h2:{groupIndex:7,visible:!0,className:"h2",command:n.browser.msie||n.browser.safari?"FormatBlock":"heading",arguments:n.browser.msie||n.browser.safari?"<h2>":"h2",tags:["h2"],tooltip:"Header 2"},h3:{groupIndex:7,visible:!0,className:"h3",command:n.browser.msie||n.browser.safari?"FormatBlock":"heading",arguments:n.browser.msie||n.browser.safari?"<h3>":"h3",tags:["h3"],tooltip:"Header 3"},highlight:{tooltip:"Highlight",className:"highlight",groupIndex:1,visible:!1,css:{backgroundColor:"rgb(255, 255, 102)"},exec:function(){var u,t,r,i;if(u=n.browser.msie||n.browser.safari?"backcolor":"hilitecolor",n.browser.msie)t=this.getInternalRange().parentElement();else for(r=this.getInternalSelection(),t=r.extentNode||r.focusNode;t.style===undefined;)if(t=t.parentNode,t.tagName&&t.tagName.toLowerCase()==="body")return;i=t.style.backgroundColor==="rgb(255, 255, 102)"||t.style.backgroundColor==="#ffff66"?"#ffffff":"#ffff66",this.editorDoc.execCommand(u,!1,i)}},html:{groupIndex:10,visible:!1,exec:function(){var t;this.options.resizeOptions&&n.fn.resizable&&(t=this.element.height()),this.viewHTML?(this.setContent(this.original.value),n(this.original).hide(),this.editor.show(),this.options.resizeOptions&&n.fn.resizable&&(t===this.element.height()&&this.element.height(t+this.editor.height()),this.element.resizable(n.extend(!0,{alsoResize:this.editor},this.options.resizeOptions))),this.ui.toolbar.find("li").each(function(){var t=n(this);t.hasClass("html")?t.removeClass("active"):t.removeClass("disabled")})):(this.saveContent(),n(this.original).css({width:this.element.outerWidth()-6,height:this.element.height()-this.ui.toolbar.height()-6,resize:"none"}).show(),this.editor.hide(),this.options.resizeOptions&&n.fn.resizable&&(t===this.element.height()&&this.element.height(this.ui.toolbar.height()),this.element.resizable("destroy")),this.ui.toolbar.find("li").each(function(){var t=n(this);t.hasClass("html")?t.addClass("active"):!1===t.hasClass("fullscreen")&&t.removeClass("active").addClass("disabled")})),this.viewHTML=!this.viewHTML},tooltip:"View source code"},increaseFontSize:{groupIndex:9,visible:!1,tags:["big"],tooltip:"Increase font size",exec:function(){this.increaseFontSize()}},indent:{groupIndex:2,visible:!0,tooltip:"Indent"},insertHorizontalRule:{groupIndex:6,visible:!0,tags:["hr"],tooltip:"Insert Horizontal Rule"},insertImage:{groupIndex:6,visible:!0,exec:function(){var i=this;n.wysiwyg.controls&&n.wysiwyg.controls.image?n.wysiwyg.controls.image.init(this):n.wysiwyg.autoload?n.wysiwyg.autoload.control("wysiwyg.image.js",function(){i.controls.insertImage.exec.apply(i)}):t.error("$.wysiwyg.controls.image not defined. You need to include wysiwyg.image.js file")},tags:["img"],tooltip:"Insert image"},insertOrderedList:{groupIndex:5,visible:!0,tags:["ol"],tooltip:"Insert Ordered List"},insertTable:{groupIndex:6,visible:!0,exec:function(){var i=this;n.wysiwyg.controls&&n.wysiwyg.controls.table?n.wysiwyg.controls.table(this):n.wysiwyg.autoload?n.wysiwyg.autoload.control("wysiwyg.table.js",function(){i.controls.insertTable.exec.apply(i)}):t.error("$.wysiwyg.controls.table not defined. You need to include wysiwyg.table.js file")},tags:["table"],tooltip:"Insert table"},insertUnorderedList:{groupIndex:5,visible:!0,tags:["ul"],tooltip:"Insert Unordered List"},italic:{groupIndex:0,visible:!0,tags:["i","em"],css:{fontStyle:"italic"},tooltip:"Italic",hotkey:{ctrl:1,key:73}},justifyCenter:{groupIndex:1,visible:!0,tags:["center"],css:{textAlign:"center"},tooltip:"Justify Center"},justifyFull:{groupIndex:1,visible:!0,css:{textAlign:"justify"},tooltip:"Justify Full"},justifyLeft:{visible:!0,groupIndex:1,css:{textAlign:"left"},tooltip:"Justify Left"},justifyRight:{groupIndex:1,visible:!0,css:{textAlign:"right"},tooltip:"Justify Right"},ltr:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return t?(n(t).attr("dir","ltr"),!0):!1},tooltip:"Left to Right"},outdent:{groupIndex:2,visible:!0,tooltip:"Outdent"},paragraph:{groupIndex:7,visible:!1,className:"paragraph",command:"FormatBlock",arguments:n.browser.msie||n.browser.safari?"<p>":"p",tags:["p"],tooltip:"Paragraph"},paste:{groupIndex:8,visible:!1,tooltip:"Paste"},redo:{groupIndex:4,visible:!0,tooltip:"Redo"},removeFormat:{groupIndex:10,visible:!0,exec:function(){this.removeFormat()},tooltip:"Remove formatting"},rtl:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return t?(n(t).attr("dir","rtl"),!0):!1},tooltip:"Right to Left"},strikeThrough:{groupIndex:0,visible:!0,tags:["s","strike"],css:{textDecoration:"line-through"},tooltip:"Strike-through"},subscript:{groupIndex:3,visible:!0,tags:["sub"],tooltip:"Subscript"},superscript:{groupIndex:3,visible:!0,tags:["sup"],tooltip:"Superscript"},underline:{groupIndex:0,visible:!0,tags:["u"],css:{textDecoration:"underline"},tooltip:"Underline",hotkey:{ctrl:1,key:85}},undo:{groupIndex:4,visible:!0,tooltip:"Undo"},code:{visible:!0,groupIndex:6,tooltip:"Code snippet",exec:function(){var i=this.getInternalRange(),t=n(i.commonAncestorContainer),r=i.commonAncestorContainer.nodeName.toLowerCase();t.parent("code").length?t.unwrap():r!=="body"&&t.wrap("<code/>")}}},this.defaults={html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body style="margin: 3px;">INITIAL_CONTENT</body></html>',debug:!1,controls:{},css:{},events:{},autoGrow:!1,autoSave:!0,brIE:!0,formHeight:270,formWidth:440,iFrameClass:null,initialContent:"<p>Initial content</p>",maxHeight:1e4,maxLength:0,messages:{nonSelection:"Select the text you wish to link"},toolbarHtml:'<ul role="menu" class="toolbar"></ul>',removeHeadings:!1,replaceDivWithP:!1,resizeOptions:!1,rmUnusedControls:!1,rmUnwantedBr:!0,tableFiller:"Lorem ipsum",initialMinHeight:null,controlImage:{forceRelativeUrls:!1},controlLink:{forceRelativeUrls:!1},plugins:{autoload:!1,i18n:!1,rmFormat:{rmMsWordMarkup:!1}}},this.availableControlProperties=["arguments","callback","className","command","css","custom","exec","groupIndex","hotkey","icon","tags","tooltip","visible"],this.editor=null,this.editorDoc=null,this.element=null,this.options={},this.original=null,this.savedRange=null,this.timers=[],this.validKeyCodes=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46],this.isDestroyed=!1,this.dom={ie:{parent:null},w3c:{parent:null}},this.dom.parent=this,this.dom.ie.parent=this.dom,this.dom.w3c.parent=this.dom,this.ui={},this.ui.self=this,this.ui.toolbar=null,this.ui.initialHeight=null,this.dom.getAncestor=function(n,t){for(t=t.toLowerCase();n&&"body"!==n.tagName.toLowerCase();){if(t===n.tagName.toLowerCase())return n;n=n.parentNode}return null},this.dom.getElement=function(n){var t=this;return window.getSelection?t.w3c.getElement(n):t.ie.getElement(n)},this.dom.ie.getElement=function(n){var u=this.parent,r=u.parent.getInternalSelection(),t=r.createRange(),i;if("Control"===r.type)if(1===t.length)i=t.item(0);else return null;else i=t.parentElement();return u.getAncestor(i,n)},this.dom.w3c.getElement=function(n){var r=this.parent,i=r.parent.getInternalRange(),t;return i?(t=i.commonAncestorContainer,3===t.nodeType&&(t=t.parentNode),t===i.startContainer&&(t=t.childNodes[i.startOffset]),r.getAncestor(t,n)):null},this.ui.addHoverClass=function(){n(this).addClass("wysiwyg-button-hover")},this.ui.appendControls=function(){var f=this,s=this.self,h=s.parseControls(),e=!0,t=[],r={},i,u,o=function(n,t){(t.groupIndex&&u!==t.groupIndex&&(u=t.groupIndex,e=!1),t.visible)&&(e||(f.appendItemSeparator(),e=!0),t.custom?f.appendItemCustom(n,t):f.appendItem(n,t))};for(n.each(h,function(n,i){var u="empty";undefined!==i.groupIndex&&(u=""===i.groupIndex?"empty":i.groupIndex),undefined===r[u]&&(t.push(u),r[u]={}),r[u][n]=i}),t.sort(function(n,t){return"number"==typeof n&&typeof n==typeof t?n-t:(n=n.toString(),t=t.toString(),n>t)?1:n===t?0:-1}),0<t.length&&(u=t[0]),i=0;i<t.length;i+=1)n.each(r[t[i]],o)},this.ui.appendItem=function(t,i){var r=this.self,u=i.className||i.command||t||"empty",f=i.tooltip||i.command||t||"";return n('<li role="menuitem" unselectable="on">'+u+"</li>").addClass(u).attr("title",f).hover(this.addHoverClass,this.removeHoverClass).click(function(){return n(this).hasClass("disabled")?!1:(r.triggerControl.apply(r,[t,i]),this.blur(),r.ui.returnRange(),r.ui.focus(),!0)}).appendTo(r.ui.toolbar)},this.ui.appendItemCustom=function(t,i){var r=this.self,u=i.tooltip||i.command||t||"";return i.callback&&n(window).bind("trigger-"+t+".wysiwyg",i.callback),n('<li role="menuitem" unselectable="on" style="background: url(\''+i.icon+"') no-repeat;\"></li>").addClass("custom-command-"+t).addClass("wysiwyg-custom-command").addClass(t).attr("title",u).hover(this.addHoverClass,this.removeHoverClass).click(function(){return n(this).hasClass("disabled")?!1:(r.triggerControl.apply(r,[t,i]),this.blur(),r.ui.returnRange(),r.ui.focus(),r.triggerControlCallback(t),!0)}).appendTo(r.ui.toolbar)},this.ui.appendItemSeparator=function(){var t=this.self;return n('<li role="separator" class="separator"></li>').appendTo(t.ui.toolbar)},this.autoSaveFunction=function(){this.saveContent()},this.ui.checkTargets=function(t){var i=this.self;n.each(i.options.controls,function(r,u){var o=u.className||u.command||r||"empty",h,e,s,f,c=function(n,t){var r;"function"==typeof t?(r=t,r(f.css(n).toString().toLowerCase(),i)&&i.ui.toolbar.find("."+o).addClass("active")):f.css(n).toString().toLowerCase()===t&&i.ui.toolbar.find("."+o).addClass("active")};if("fullscreen"!==o&&i.ui.toolbar.find("."+o).removeClass("active"),u.tags||u.options&&u.options.tags)for(h=u.tags||u.options&&u.options.tags,e=t;e;){if(e.nodeType!==1)break;n.inArray(e.tagName.toLowerCase(),h)!==-1&&i.ui.toolbar.find("."+o).addClass("active"),e=e.parentNode}if(u.css||u.options&&u.options.css)for(s=u.css||u.options&&u.options.css,f=n(t);f;){if(f[0].nodeType!==1)break;n.each(s,c),f=f.parent()}})},this.ui.designMode=function(){var i=3,n=this.self,t;t=function(i){if("on"===n.editorDoc.designMode){n.timers.designMode&&window.clearTimeout(n.timers.designMode),n.innerDocument()!==n.editorDoc&&n.ui.initFrame();return}try{n.editorDoc.designMode="on"}catch(r){}i-=1,i>0&&(n.timers.designMode=window.setTimeout(function(){t(i)},100))},t(i)},this.destroy=function(){this.isDestroyed=!0;for(var i=this.element.closest("form"),t=0;t<this.timers.length;t+=1)window.clearTimeout(this.timers[t]);return i.unbind(".wysiwyg"),this.element.remove(),n.removeData(this.original,"wysiwyg"),n(this.original).show(),this},this.getRangeText=function(){var n=this.getInternalRange();return n.toString?n=n.toString():n.text&&(n=n.text),n},this.execute=function(n,t){typeof t=="undefined"&&(t=null),this.editorDoc.execCommand(n,!1,t)},this.extendOptions=function(t){var i={};return"object"==typeof t.controls&&(i=t.controls,delete t.controls),t=n.extend(!0,{},this.defaults,t),t.controls=n.extend(!0,{},i,this.controls,i),t.rmUnusedControls&&n.each(t.controls,function(n){i[n]||delete t.controls[n]}),t},this.ui.focus=function(){var n=this.self;return n.editor.get(0).contentWindow.focus(),n},this.ui.returnRange=function(){var n=this.self,i;if(n.savedRange!==null){if(window.getSelection){i=window.getSelection(),i.rangeCount>0&&i.removeAllRanges();try{i.addRange(n.savedRange)}catch(r){t.error(r)}}else window.document.createRange?window.getSelection().addRange(n.savedRange):window.document.selection&&n.savedRange.select();n.savedRange=null}},this.increaseFontSize=function(){if(n.browser.mozilla||n.browser.opera)this.editorDoc.execCommand("increaseFontSize",!1,null);else if(n.browser.safari){var i=this.editorDoc.createElement("big");this.getInternalRange().surroundContents(i)}else t.error("Internet Explorer?")},this.decreaseFontSize=function(){if(n.browser.mozilla||n.browser.opera)this.editorDoc.execCommand("decreaseFontSize",!1,null);else if(n.browser.safari){var i=this.editorDoc.createElement("small");this.getInternalRange().surroundContents(i)}else t.error("Internet Explorer?")},this.getContent=function(){return this.events.filter("getContent",this.editorDoc.body.innerHTML)},this.events={_events:{},bind:function(n,t){typeof this._events.eventName!="object"&&(this._events[n]=[]),this._events[n].push(t)},trigger:function(t,i){if(typeof this._events.eventName=="object"){var r=this.editor;n.each(this._events[t],function(n,t){typeof t=="function"&&t.apply(r,i)})}},filter:function(t,i){if(typeof this._events[t]=="object"){var u=this.editor,r=Array.prototype.slice.call(arguments,1);n.each(this._events[t],function(n,t){typeof t=="function"&&(i=t.apply(u,r))})}return i}},this.getElementByAttributeValue=function(t,i,r){for(var u,e=this.editorDoc.getElementsByTagName(t),f=0;f<e.length;f+=1)if(u=e[f].getAttribute(i),n.browser.msie&&(u=u.substr(u.length-r.length)),u===r)return e[f];return!1},this.getInternalRange=function(){var n=this.getInternalSelection();return n?n.rangeCount&&n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():null:null},this.getInternalSelection=function(){if(this.editor.get(0).contentWindow){if(this.editor.get(0).contentWindow.getSelection)return this.editor.get(0).contentWindow.getSelection();if(this.editor.get(0).contentWindow.selection)return this.editor.get(0).contentWindow.selection}return this.editorDoc.getSelection?this.editorDoc.getSelection():this.editorDoc.selection?this.editorDoc.selection:null},this.getRange=function(){var n=this.getSelection();if(!n)return null;if(n.rangeCount&&n.rangeCount>0)n.getRangeAt(0);else if(n.createRange)return n.createRange();return null},this.getSelection=function(){return window.getSelection?window.getSelection():window.document.selection},this.ui.grow=function(){var t=this.self,r=n(t.editorDoc.body),u=n.browser.msie?r[0].scrollHeight:r.height()+2+20,f=t.ui.initialHeight,i=Math.max(u,f);return i=Math.min(i,t.options.maxHeight),t.editor.attr("scrolling",i<t.options.maxHeight?"no":"auto"),r.css("overflow",i<t.options.maxHeight?"hidden":""),t.editor.get(0).height=i,t},this.init=function(t,i){var f=this,e=n(t).closest("form"),r=t.width||t.clientWidth||0,u=t.height||t.clientHeight||0;this.options=this.extendOptions(i),this.original=t,this.ui.toolbar=n(this.options.toolbarHtml),n.browser.msie&&parseInt(n.browser.version,10)<8&&(this.options.autoGrow=!1),r===0&&t.cols&&(r=t.cols*8+21),u===0&&t.rows&&(u=t.rows*16+16),this.editor=n(window.location.protocol==="https:"?'<iframe src="javascript:false;"></iframe>':"<iframe></iframe>").attr("frameborder","0"),this.options.iFrameClass?this.editor.addClass(this.options.iFrameClass):(this.editor.css({minHeight:(u-6).toString()+"px",width:r>50?(r-8).toString()+"px":""}),n.browser.msie&&parseInt(n.browser.version,10)<7&&this.editor.css("height",u.toString()+"px")),this.editor.attr("tabindex",n(t).attr("tabindex")),this.element=n("<div/>").addClass("wysiwyg"),this.options.iFrameClass||this.element.css({width:r>0?r.toString()+"px":"100%"}),n(t).hide().before(this.element),this.viewHTML=!1,this.initialContent=n(t).val(),this.ui.initFrame(),this.options.resizeOptions&&n.fn.resizable&&this.element.resizable(n.extend(!0,{alsoResize:this.editor},this.options.resizeOptions)),this.options.autoSave&&e.bind("submit.wysiwyg",function(){f.autoSaveFunction()}),e.bind("reset.wysiwyg",function(){f.resetFunction()})},this.ui.initFrame=function(){var t=this.self,u,f,i,r;if(t.ui.appendControls(),t.element.append(t.ui.toolbar).append(n("<div><!-- --></div>").css({clear:"both"})).append(t.editor),t.editorDoc=t.innerDocument(),t.isDestroyed)return null;t.ui.designMode(),t.editorDoc.open(),t.editorDoc.write(t.options.html.replace(/INITIAL_CONTENT/,function(){return t.wrapInitialContent()})),t.editorDoc.close(),n.wysiwyg.plugin.bind(t),n(t.editorDoc).trigger("initFrame.wysiwyg"),n(t.editorDoc).bind("click.wysiwyg",function(n){t.ui.checkTargets(n.target?n.target:n.srcElement)}),n(t.original).focus(function(){n(this).filter(":visible")||t.ui.focus()}),n(t.editorDoc).keydown(function(n){var i;return n.keyCode===8&&(i=/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>$/,i.test(t.getContent()))?(n.stopPropagation(),!1):!0}),n.browser.msie?t.options.brIE&&n(t.editorDoc).keydown(function(n){if(n.keyCode===13){var i=t.getRange();return i.pasteHTML("<br/>"),i.collapse(!1),i.select(),!1}return!0}):n(t.editorDoc).keydown(function(n){var i;if(n.ctrlKey||n.metaKey)for(i in t.controls)if(t.controls[i].hotkey&&t.controls[i].hotkey.ctrl&&n.keyCode===t.controls[i].hotkey.key)return t.triggerControl.apply(t,[i,t.controls[i]]),!1;return!0}),t.options.plugins.rmFormat.rmMsWordMarkup&&n(t.editorDoc).bind("keyup.wysiwyg",function(i){(i.ctrlKey||i.metaKey)&&86===i.keyCode&&n.wysiwyg.rmFormat&&("object"==typeof t.options.plugins.rmFormat.rmMsWordMarkup?n.wysiwyg.rmFormat.run(t,{rules:{msWordMarkup:t.options.plugins.rmFormat.rmMsWordMarkup}}):n.wysiwyg.rmFormat.run(t,{rules:{msWordMarkup:{enabled:!0}}}))}),t.options.autoSave&&n(t.editorDoc).keydown(function(){t.autoSaveFunction()}).keyup(function(){t.autoSaveFunction()}).mousedown(function(){t.autoSaveFunction()}).bind(n.support.noCloneEvent?"input.wysiwyg":"paste.wysiwyg",function(){t.autoSaveFunction()}),t.options.autoGrow&&(t.ui.initialHeight=t.options.initialMinHeight!==null?t.options.initialMinHeight:n(t.editorDoc).height(),n(t.editorDoc.body).css("border","1px solid white"),f=function(){t.ui.grow()},n(t.editorDoc).keyup(f),n(t.editorDoc).bind("editorRefresh.wysiwyg",f),t.ui.grow()),t.options.css&&(String===t.options.css.constructor?n.browser.msie?(u=t.editorDoc.createStyleSheet(t.options.css),n(u).attr({media:"all"})):(u=n("<link/>").attr({href:t.options.css,media:"all",rel:"stylesheet",type:"text/css"}),n(t.editorDoc).find("head").append(u)):t.timers.initFrame_Css=window.setTimeout(function(){n(t.editorDoc.body).css(t.options.css)},0)),t.initialContent.length===0&&("function"==typeof t.options.initialContent?t.setContent(t.options.initialContent()):t.setContent(t.options.initialContent)),t.options.maxLength>0&&n(t.editorDoc).keydown(function(i){n(t.editorDoc).text().length>=t.options.maxLength&&n.inArray(i.which,t.validKeyCodes)===-1&&i.preventDefault()}),n.each(t.options.events,function(i,r){n(t.editorDoc).bind(i+".wysiwyg",function(n){r.apply(t.editorDoc,[n,t])})}),n.browser.msie?n(t.editorDoc).bind("beforedeactivate.wysiwyg",function(){t.savedRange=t.getInternalRange()}):n(t.editorDoc).bind("blur.wysiwyg",function(){t.savedRange=t.getInternalRange()}),n(t.editorDoc.body).addClass("wysiwyg"),t.options.events&&t.options.events.save&&(i=t.options.events.save,n(t.editorDoc).bind("keyup.wysiwyg",i),n(t.editorDoc).bind("change.wysiwyg",i),n.support.noCloneEvent?n(t.editorDoc).bind("input.wysiwyg",i):(n(t.editorDoc).bind("paste.wysiwyg",i),n(t.editorDoc).bind("cut.wysiwyg",i))),t.options.xhtml5&&t.options.unicode&&(r={ne:8800,le:8804,para:182,xi:958,darr:8595,nu:957,oacute:243,Uacute:218,omega:969,prime:8242,pound:163,igrave:236,thorn:254,forall:8704,emsp:8195,lowast:8727,brvbar:166,alefsym:8501,nbsp:160,delta:948,clubs:9827,lArr:8656,Omega:937,Auml:196,cedil:184,and:8743,plusmn:177,ge:8805,raquo:187,uml:168,equiv:8801,laquo:171,rdquo:8221,Epsilon:917,divide:247,fnof:402,chi:967,Dagger:8225,iacute:237,rceil:8969,sigma:963,Oslash:216,acute:180,frac34:190,lrm:8206,upsih:978,Scaron:352,part:8706,exist:8707,nabla:8711,image:8465,prop:8733,zwj:8205,omicron:959,aacute:225,Yuml:376,Yacute:221,weierp:8472,rsquo:8217,otimes:8855,kappa:954,thetasym:977,harr:8596,Ouml:214,Iota:921,ograve:242,sdot:8901,copy:169,oplus:8853,acirc:226,sup:8835,zeta:950,Iacute:205,Oacute:211,crarr:8629,Nu:925,bdquo:8222,lsquo:8216,apos:39,Beta:914,eacute:233,egrave:232,lceil:8968,Kappa:922,piv:982,Ccedil:199,ldquo:8220,Xi:926,cent:162,uarr:8593,hellip:8230,Aacute:193,ensp:8194,sect:167,Ugrave:217,aelig:230,ordf:170,curren:164,sbquo:8218,macr:175,Phi:934,Eta:919,rho:961,Omicron:927,sup2:178,euro:8364,aring:229,Theta:920,mdash:8212,uuml:252,otilde:245,eta:951,uacute:250,rArr:8658,nsub:8836,agrave:224,notin:8713,ndash:8211,Psi:936,Ocirc:212,sube:8838,szlig:223,micro:181,not:172,sup1:185,middot:183,iota:953,ecirc:234,lsaquo:8249,thinsp:8201,sum:8721,ntilde:241,scaron:353,cap:8745,atilde:227,lang:10216,__replacement:65533,isin:8712,gamma:947,Euml:203,ang:8736,upsilon:965,Ntilde:209,hearts:9829,Alpha:913,Tau:932,spades:9824,dagger:8224,THORN:222,int:8747,lambda:955,Eacute:201,Uuml:220,infin:8734,rlm:8207,Aring:197,ugrave:249,Egrave:200,Acirc:194,rsaquo:8250,ETH:208,oslash:248,alpha:945,Ograve:210,Prime:8243,mu:956,ni:8715,real:8476,bull:8226,beta:946,icirc:238,eth:240,prod:8719,larr:8592,ordm:186,perp:8869,Gamma:915,reg:174,ucirc:251,Pi:928,psi:968,tilde:732,asymp:8776,zwnj:8204,Agrave:192,deg:176,AElig:198,times:215,Delta:916,sim:8764,Otilde:213,Mu:924,uArr:8657,circ:710,theta:952,Rho:929,sup3:179,diams:9830,tau:964,Chi:935,frac14:188,oelig:339,shy:173,or:8744,dArr:8659,phi:966,iuml:239,Lambda:923,rfloor:8971,iexcl:161,cong:8773,ccedil:231,Icirc:206,frac12:189,loz:9674,rarr:8594,cup:8746,radic:8730,frasl:8260,euml:235,OElig:338,hArr:8660,Atilde:195,Upsilon:933,there4:8756,ouml:246,oline:8254,Ecirc:202,yacute:253,auml:228,permil:8240,sigmaf:962,iquest:191,empty:8709,pi:960,Ucirc:219,supe:8839,Igrave:204,yen:165,rang:10217,trade:8482,lfloor:8970,minus:8722,Zeta:918,sub:8834,epsilon:949,yuml:255,Sigma:931,Iuml:207,ocirc:244},t.events.bind("getContent",function(n){return n.replace(/&(?:amp;)?(?!amp|lt|gt|quot)([a-z][a-z0-9]*);/gi,function(n,t){r[t]||(t=t.toLowerCase(),r[t]||(t="__replacement"));var i=r[t];return String.fromCharCode(i)})}))},this.innerDocument=function(){var n=this.editor.get(0);if(n.nodeName.toLowerCase()==="iframe"){if(n.contentDocument)return n.contentDocument;if(n.contentWindow)return n.contentWindow.document;if(this.isDestroyed)return null;t.error("Unexpected error in innerDocument")}return n},this.insertHtml=function(t){var r,i;return!t||t.length===0?this:(n.browser.msie?(this.ui.focus(),this.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),r=this.getElementByAttributeValue("img","src","#jwysiwyg#"),r&&n(r).replaceWith(t)):n.browser.mozilla?1===n(t).length?(i=this.getInternalRange(),i.deleteContents(),i.insertNode(n(t).get(0))):this.editorDoc.execCommand("insertHTML",!1,t):this.editorDoc.execCommand("insertHTML",!1,t)||(this.editor.focus(),this.editorDoc.execCommand("insertHTML",!1,t)),this.saveContent(),this)},this.parseControls=function(){var t=this;return(n.each(this.options.controls,function(i,r){n.each(r,function(r){if(-1===n.inArray(r,t.availableControlProperties))throw i+'["'+r+'"]: property "'+r+'" not exists in Wysiwyg.availableControlProperties';})}),this.options.parseControls)?this.options.parseControls.call(this):this.options.controls},this.removeFormat=function(){return n.browser.msie&&this.ui.focus(),this.options.removeHeadings&&this.editorDoc.execCommand("formatBlock",!1,"<p>"),this.editorDoc.execCommand("removeFormat",!1,null),this.editorDoc.execCommand("unlink",!1,null),n.wysiwyg.rmFormat&&n.wysiwyg.rmFormat.enabled&&("object"==typeof this.options.plugins.rmFormat.rmMsWordMarkup?n.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:this.options.plugins.rmFormat.rmMsWordMarkup}}):n.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:{enabled:!0}}})),this},this.ui.removeHoverClass=function(){n(this).removeClass("wysiwyg-button-hover")},this.resetFunction=function(){this.setContent(this.initialContent)},this.saveContent=function(){if(this.original){var t,i;t=this.getContent(),this.options.rmUnwantedBr&&(t=t.replace(/<br\/?>$/,"")),this.options.replaceDivWithP&&(i=n("<div/>").addClass("temp").append(t),i.children("div").each(function(){var r=n(this),i=r.find("p"),t;if(0===i.length){if(i=n("<p></p>"),this.attributes.length>0)for(t=0;t<this.attributes.length;t+=1)i.attr(this.attributes[t].name,r.attr(this.attributes[t].name));i.append(r.html()),r.replaceWith(i)}}),t=i.html()),n(this.original).val(t),this.options.events&&this.options.events.save&&this.options.events.save.call(this)}return this},this.setContent=function(n){return this.editorDoc.body.innerHTML=n,this.saveContent(),this},this.triggerControl=function(n,i){var u=i.command||n,r=i.arguments||[];if(i.exec)i.exec.apply(this);else{this.ui.focus(),this.ui.withoutCss();try{this.editorDoc.execCommand(u,!1,r)}catch(f){t.error(f)}}this.options.autoSave&&this.autoSaveFunction()},this.triggerControlCallback=function(t){n(window).trigger("trigger-"+t+".wysiwyg",[this])},this.ui.withoutCss=function(){var t=this.self;if(n.browser.mozilla)try{t.editorDoc.execCommand("styleWithCSS",!1,!1)}catch(r){try{t.editorDoc.execCommand("useCSS",!1,!0)}catch(i){}}return t},this.wrapInitialContent=function(){var n=this.initialContent,t=n.match(/<\/?p>/gi);return t?n:"<p>"+n+"</p>"}}var t=window.console?window.console:{log:n.noop,error:function(t){n.error(t)}},r="prop"in n.fn&&"removeProp"in n.fn;n.wysiwyg={messages:{noObject:"Something goes wrong, check object"},addControl:function(t,i,r){return t.each(function(){var t=n(this).data("wysiwyg"),f={},u;if(!t)return this;f[i]=n.extend(!0,{visible:!0,custom:!0},r),n.extend(!0,t.options.controls,f),u=n(t.options.toolbarHtml),t.ui.toolbar.replaceWith(u),t.ui.toolbar=u,t.ui.appendControls()})},clear:function(t){return t.each(function(){var t=n(this).data("wysiwyg");if(!t)return this;t.setContent("")})},console:t,destroy:function(t){return t.each(function(){var t=n(this).data("wysiwyg");if(!t)return this;t.destroy()})},document:function(t){var i=t.data("wysiwyg");return i?n(i.editorDoc):undefined},getContent:function(n){var t=n.data("wysiwyg");return t?t.getContent():undefined},init:function(t,r){return t.each(function(){var u=n.extend(!0,{},r),t;"textarea"!==this.nodeName.toLowerCase()||n(this).data("wysiwyg")||(t=new i,t.init(this,u),n.data(this,"wysiwyg",t),n(t.editorDoc).trigger("afterInit.wysiwyg"))})},insertHtml:function(t,i){return t.each(function(){var t=n(this).data("wysiwyg");if(!t)return this;t.insertHtml(i)})},plugin:{listeners:{},bind:function(t){var i=this;n.each(this.listeners,function(r,u){for(var e,f=0;f<u.length;f+=1)e=i.parseName(u[f]),n(t.editorDoc).bind(r+".wysiwyg",{plugin:e},function(i){n.wysiwyg[i.data.plugin.name][i.data.plugin.method].apply(n.wysiwyg[i.data.plugin.name],[t])})})},exists:function(t){var i;return"string"!=typeof t?!1:(i=this.parseName(t),!n.wysiwyg[i.name]||!n.wysiwyg[i.name][i.method])?!1:!0},listen:function(t,i){var r;return(r=this.parseName(i),!n.wysiwyg[r.name]||!n.wysiwyg[r.name][r.method])?!1:(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(i),!0)},parseName:function(n){var t;return"string"!=typeof n?!1:(t=n.split("."),2>t.length)?!1:{name:t[0],method:t[1]}},register:function(i){return i.name||t.error("Plugin name missing"),n.each(n.wysiwyg,function(n){n===i.name&&t.error("Plugin with name '"+i.name+"' was already registered")}),n.wysiwyg[i.name]=i,!0}},removeFormat:function(t){return t.each(function(){var t=n(this).data("wysiwyg");if(!t)return this;t.removeFormat()})},save:function(t){return t.each(function(){var t=n(this).data("wysiwyg");if(!t)return this;t.saveContent()})},selectAll:function(n){var r=n.data("wysiwyg"),t,i,u;if(!r)return this;t=r.editorDoc.body,window.getSelection?(u=r.getInternalSelection(),u.selectAllChildren(t)):(i=t.createTextRange(),i.moveToElementText(t),i.select())},setContent:function(t,i){return t.each(function(){var t=n(this).data("wysiwyg");if(!t)return this;t.setContent(i)})},triggerControl:function(i,r){return i.each(function(){var i=n(this).data("wysiwyg");if(!i)return this;i.controls[r]||t.error("Control '"+r+"' not exists"),i.triggerControl.apply(i,[r,i.controls[r]])})},support:{prop:r},utils:{extraSafeEntities:[["<",">","'",'"'," "],[32]],encodeEntities:function(t){var u=this,i,r=[];return this.extraSafeEntities[1].length===0&&n.each(this.extraSafeEntities[0],function(n,t){u.extraSafeEntities[1].push(t.charCodeAt(0))}),i=t.split(""),n.each(i,function(t){var f=i[t].charCodeAt(0);n.inArray(f,u.extraSafeEntities[1])&&(f<65||f>127||f>90&&f<97)?r.push("&#"+f+";"):r.push(i[t])}),r.join("")}}},n.fn.wysiwyg=function(i){var r=arguments,u;if("undefined"!=typeof n.wysiwyg[i])return r=Array.prototype.concat.call([r[0]],[this],Array.prototype.slice.call(r,1)),n.wysiwyg[i].apply(n.wysiwyg,Array.prototype.slice.call(r,1));if("object"!=typeof i&&i){if(n.wysiwyg.plugin.exists(i))return u=n.wysiwyg.plugin.parseName(i),r=Array.prototype.concat.call([r[0]],[this],Array.prototype.slice.call(r,1)),n.wysiwyg[u.name][u.method].apply(n.wysiwyg[u.name],Array.prototype.slice.call(r,1));t.error("Method '"+i+"' does not exist on jQuery.wysiwyg.\nTry to include some extra controls or plugins")}else return Array.prototype.unshift.call(r,this),n.wysiwyg.init.apply(n.wysiwyg,r)},n.fn.getWysiwyg=function(){return n.data(this,"wysiwyg")}}(jQuery),function(n){function i(){var n=0;return typeof window.innerHeight=="number"?n=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?n=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(n=document.body.clientHeight),n}function t(){var n=0;return typeof window.innerWidth=="number"?n=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?n=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(n=document.body.clientWidth),n}n.fn.pinFooter=function(r){var o=n(window).height(),e=t(),u=n(this).outerHeight(!0),f=n("body").outerHeight(!0),s=parseInt(n("body").css("margin-bottom"));r=="relative"?f>i()?(n(this).css("position","absolute"),n(this).css("width",e+"px"),n(this).css("top",f-u+"px"),n("body").css("overflow-x","hidden")):(n(this).css("position","fixed"),n(this).css("width",e+"px"),n(this).css("top",o-u+"px")):(n(this).css("position","fixed"),n(this).css("width",e+"px"),n(this).css("top",o-u+"px"),n("body").css("height",f+s+"px"))}}(jQuery)